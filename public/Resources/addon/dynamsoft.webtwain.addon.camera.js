/*! 20220328
* Dynamsoft JavaScript Library
* Product: Dynamsoft Web Twain
* Web Site: https://www.dynamsoft.com
*
* Copyright 2022, Dynamsoft Corporation 
* Author: Dynamsoft R&D Department
*
* Version: 17.2.5
*
* Module: addon/camera
* final js: build\addon\dynamsoft.webtwain.addon.camera.js
*/
var Dynamsoft=self.Dynamsoft||{};Dynamsoft.DWT=Dynamsoft.DWT||{};Dynamsoft.aryAddonReadyFun=Dynamsoft.aryAddonReadyFun||[];Dynamsoft.AddonReady=Dynamsoft.AddonReady||function(fn){Dynamsoft.aryAddonReadyFun.push(fn);}; // jshint ignore: line
Dynamsoft.CameraVerInName = '17.2.0.1026';
Dynamsoft.AddonReady(function(DL, nil){if(!DL.product.bHTML5Edition||Dynamsoft.navInfoSync.bIE)return; 
/*! Date: 03/23/2022 16:25:03 */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t,n){e.exports=n(16)},function(e,t){function n(e,t,n,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,r)}e.exports=function(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var a=e.apply(t,i);function s(e){n(a,r,o,s,c,"next",e)}function c(e){n(a,r,o,s,c,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function a(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},i=[],r=0;r<e.length;r++){var s=e[r],c=t.base?s[0]+t.base:s[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=a(u),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:u,updater:f(h,t),references:1}),i.push(u)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,u=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function h(e,t,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var A=null,p=0;function f(e,t){var n,i,r;if(t.singleton){var o=p++;n=A||(A=c(t)),i=d.bind(null,n,o,!1),r=d.bind(null,n,o,!0)}else n=c(t),i=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=a(n[i]);o[r].references--}for(var c=s(e,t),l=0;l<n.length;l++){var u=a(n[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=c}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(r[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(17);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var i=n(3),r=n.n(i)()((function(e){return e[1]}));r.push([e.i,".dcs-cameraEditPage {\n  user-select: none;\n  z-index: 10000;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: #000;\n  display: flex;\n  flex-direction: column;\n}\n.dcs-cameraEditPage header {\n  width: 100%;\n  height: 40px;\n  flex: 0 0 40px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.dcs-cameraEditPage header > div {\n  width: 24px;\n  height: 24px;\n  margin-right: auto;\n  margin-left: 18px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.dcs-cameraEditPage header > div > i {\n  font-size: 18px;\n  color: #fff;\n}\n.dcs-cameraEditPage .resultContainer {\n  flex: 1;\n  background: #323232;\n  overflow: hidden;\n  position: relative;\n}\n.dcs-cameraEditPage .resultContainer canvas {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n.dcs-cameraEditPage .resultContainer .dcs-cvsContainer {\n  position: absolute;\n  left: 20px;\n  top: 20px;\n  right: 20px;\n  bottom: 20px;\n}\n.dcs-cameraEditPage .footerButtons {\n  height: 48px;\n  flex: 0 0 48px;\n  width: 100%;\n  background: #000;\n  display: flex;\n  justify-content: space-evenly;\n  margin-top: auto;\n  align-items: center;\n}\n.dcs-cameraEditPage .footerButtons div {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  width: 9.3333333333vw;\n  height: 9.3333333333vw;\n}\n.dcs-cameraEditPage .footerButtons div > p {\n  font-size: 12px;\n}\n.dcs-cameraEditPage .footerButtons div > i {\n  font-size: 24px;\n}",""]),t.a=r},function(e,t,n){"use strict";var i=n(3),r=n.n(i)()((function(e){return e[1]}));r.push([e.i,'.dcs-cameraHomePage {\n  user-select: none;\n  z-index: 10000;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: #000;\n  display: flex;\n  flex-direction: column;\n}\n.dcs-cameraHomePage header {\n  width: 100%;\n  height: 7.1964017991vh;\n  background: #000;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n.dcs-cameraHomePage header > div {\n  width: 24px;\n  height: 24px;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.dcs-cameraHomePage header > div > i {\n  font-size: 24px;\n  color: #fff;\n}\n.dcs-cameraHomePage header > div:first-child {\n  margin-left: 18px;\n}\n.dcs-cameraHomePage header > div:last-child {\n  margin-right: 18px;\n}\n.dcs-cameraHomePage .videoContainer {\n  flex: 1;\n  background: #fff;\n}\n.dcs-cameraHomePage .buttonList {\n  height: 100px;\n  width: 100%;\n  background: #000000;\n  display: flex;\n  justify-content: space-evenly;\n  margin-top: auto;\n  align-items: center;\n  position: relative;\n}\n.dcs-cameraHomePage .buttonList .modeTitle {\n  width: 12vw;\n  padding-top: 10px;\n  position: absolute;\n  left: 50%;\n  top: 0;\n  border-top: 0.7496251874vh solid #fe8e14;\n  transform: translate3d(-50%, 0, 0);\n}\n.dcs-cameraHomePage .buttonList > div {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 12px;\n  color: #fff;\n  width: 13.3333333333vw;\n}\n.dcs-cameraHomePage .buttonList > div i {\n  font-size: 26px;\n}\n.dcs-cameraHomePage .buttonList > div p {\n  display: none;\n  margin-top: 10px;\n}\n.dcs-cameraHomePage .buttonList .dcs-btn-captureBtn {\n  width: 80px;\n  height: 80px;\n  flex: 0 0 80px;\n  border-radius: 50%;\n  margin: 0 15px;\n  background: #fe8e14;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.dcs-cameraHomePage .buttonList .dcs-btn-captureBtn > i {\n  font-size: 30px;\n}\n.dcs-cameraHomePage .buttonList .activeContinuous {\n  color: #fe8e14;\n}\n.dcs-cameraHomePage .buttonList .dcs-btn-multipleImg {\n  width: 50px;\n  height: 50px;\n  background: #fff;\n  /*border: 2px solid #fe8e14;*/\n}\n.dcs-cameraHomePage .buttonList .dcs-btn-multipleImg .imgCount {\n  position: absolute;\n  right: -8px;\n  top: -8px;\n  width: 18px;\n  height: 18px;\n  color: #fff;\n  background: #fe8e14;\n  border-radius: 50%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.dcs-cameraHomePage .buttonList .dcs-btn-multipleImg .previewImg {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  background: #DDDDDD;\n}\n.dcs-cameraHomePage .buttonList .dcs-btn-multipleImg p,\n.dcs-cameraHomePage .buttonList .dcs-btn-multipleImg i {\n  display: none;\n}\n.dcs-cameraHomePage .buttonList .dcs-btn-multipleImg .nextArr {\n  position: absolute;\n  right: -16px;\n  top: 50%;\n  font-size: 12px;\n  color: #fe8e14;\n  transform: rotate(180deg) translate(0, 50%);\n}\n.dcs-cameraHomePage .resolutionList {\n  list-style: none;\n  position: absolute;\n  background: #292929;\n  left: 0;\n  top: 100%;\n  margin: 0;\n  z-index: 666;\n  padding: 0;\n  color: white;\n}\n.dcs-cameraHomePage .resolutionList .checkBox {\n  pointer-events: none;\n  width: 16px;\n  height: 16px;\n  border: 1px solid white;\n  border-radius: 50%;\n  margin: 0 10px;\n}\n.dcs-cameraHomePage .resolutionList li + li {\n  border-top: 1px solid #424141;\n}\n.dcs-cameraHomePage .resolutionList > li {\n  height: 35px;\n  display: flex;\n  align-items: center;\n  padding-right: 20px;\n  font-size: 14px;\n}\n.dcs-cameraHomePage .resolutionList > li p {\n  white-space: nowrap;\n  pointer-events: none;\n}\n.dcs-cameraHomePage .resolutionList .selectedItem .checkBox {\n  background-color: #fe8e14;\n}\n\n.dcs-capturing::after {\n  content: "";\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  padding: 4px;\n  border-radius: 50%;\n  animation: dcs-glow-keyframe-home 800ms ease-out infinite alternate;\n}\n\n@keyframes dcs-glow-keyframe-home {\n  0% {\n    border: 3px solid transparent;\n  }\n  100% {\n    border: 3px solid #fe8e14;\n  }\n}',""]),t.a=r},function(e,t,n){"use strict";var i=n(3),r=n.n(i)()((function(e){return e[1]}));r.push([e.i,'.dcs-cameraInsertPage {\n  user-select: none;\n  z-index: 10000;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: #000;\n  display: flex;\n  flex-direction: column;\n}\n.dcs-cameraInsertPage header {\n  width: 100%;\n  height: 7.1964017991vh;\n  background: #000;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n.dcs-cameraInsertPage header > div {\n  width: 24px;\n  height: 24px;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.dcs-cameraInsertPage header > div > i {\n  font-size: 24px;\n  color: #fff;\n}\n.dcs-cameraInsertPage header > div:first-child {\n  margin-left: 18px;\n}\n.dcs-cameraInsertPage header > div:last-child {\n  margin-right: 18px;\n}\n.dcs-cameraInsertPage .videoContainer {\n  flex: 1;\n  background: #fff;\n}\n.dcs-cameraInsertPage .buttonList {\n  height: 100px;\n  width: 100%;\n  background: #000000;\n  display: flex;\n  justify-content: space-evenly;\n  margin-top: auto;\n  align-items: center;\n  position: relative;\n}\n.dcs-cameraInsertPage .buttonList .modeTitle {\n  width: 12vw;\n  padding-top: 10px;\n  position: absolute;\n  left: 50%;\n  top: 0;\n  border-top: 0.7496251874vh solid #fe8e14;\n  transform: translate3d(-50%, 0, 0);\n}\n.dcs-cameraInsertPage .buttonList > div {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  font-size: 12px;\n  color: #fff;\n  width: 13.3333333333vw;\n}\n.dcs-cameraInsertPage .buttonList > div i {\n  font-size: 26px;\n}\n.dcs-cameraInsertPage .buttonList > div p {\n  display: none;\n  margin-top: 10px;\n}\n.dcs-cameraInsertPage .buttonList .dcs-btn-captureBtn {\n  width: 80px;\n  height: 80px;\n  flex: 0 0 80px;\n  border-radius: 50%;\n  margin: 0 15px;\n  background: #fe8e14;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.dcs-cameraInsertPage .buttonList .dcs-btn-captureBtn > i {\n  font-size: 30px;\n}\n.dcs-cameraInsertPage .buttonList .activeContinuous {\n  color: #fe8e14;\n}\n.dcs-cameraInsertPage .buttonList .dcs-btn-multipleImg {\n  width: 50px;\n  height: 50px;\n  background: #fff;\n  /*border: 2px solid #fe8e14;*/\n}\n.dcs-cameraInsertPage .buttonList .dcs-btn-multipleImg .imgCount {\n  position: absolute;\n  right: -8px;\n  top: -8px;\n  width: 18px;\n  height: 18px;\n  color: #fff;\n  background: #fe8e14;\n  border-radius: 50%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n.dcs-cameraInsertPage .buttonList .dcs-btn-multipleImg .previewImg {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  background: #DDDDDD;\n}\n.dcs-cameraInsertPage .buttonList .dcs-btn-multipleImg p,\n.dcs-cameraInsertPage .buttonList .dcs-btn-multipleImg i {\n  display: none;\n}\n.dcs-cameraInsertPage .buttonList .dcs-btn-multipleImg .nextArr {\n  position: absolute;\n  right: -16px;\n  top: 50%;\n  font-size: 12px;\n  color: #fe8e14;\n  transform: rotate(180deg) translate(0, 50%);\n}\n.dcs-cameraInsertPage .resolutionList {\n  list-style: none;\n  position: absolute;\n  background: #292929;\n  left: 0;\n  top: 100%;\n  margin: 0;\n  z-index: 666;\n  padding: 0;\n  color: white;\n}\n.dcs-cameraInsertPage .resolutionList .checkBox {\n  pointer-events: none;\n  width: 16px;\n  height: 16px;\n  border: 1px solid white;\n  border-radius: 50%;\n  margin: 0 10px;\n}\n.dcs-cameraInsertPage .resolutionList li + li {\n  border-top: 1px solid #424141;\n}\n.dcs-cameraInsertPage .resolutionList > li {\n  height: 35px;\n  display: flex;\n  align-items: center;\n  padding-right: 20px;\n  font-size: 14px;\n}\n.dcs-cameraInsertPage .resolutionList > li p {\n  white-space: nowrap;\n  pointer-events: none;\n}\n.dcs-cameraInsertPage .resolutionList .selectedItem .checkBox {\n  background-color: #fe8e14;\n}\n\n.dcs-capturing::after {\n  content: "";\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  padding: 4px;\n  border-radius: 50%;\n  animation: dcs-glow-keyframe-insert 800ms ease-out infinite alternate;\n}\n\n@keyframes dcs-glow-keyframe-insert {\n  0% {\n    border: 3px solid transparent;\n  }\n  100% {\n    border: 3px solid #fe8e14;\n  }\n}',""]),t.a=r},function(e,t,n){"use strict";var i=n(3),r=n.n(i)()((function(e){return e[1]}));r.push([e.i,".dcs-loadingContainer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 666666;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n}\n\n@keyframes dcs-loading-keyframe {\n  0% {\n    opacity: 1;\n    backface-visibility: hidden;\n    transform: translateZ(0) scale(1.5, 1.5);\n  }\n  100% {\n    opacity: 0;\n    backface-visibility: hidden;\n    transform: translateZ(0) scale(1, 1);\n  }\n}\n.dcs-loading-content div > div {\n  position: absolute;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  background: #fe8e14;\n  animation: dcs-loading-keyframe 1s linear infinite;\n}\n\n.dcs-loading-content div:nth-child(1) > div {\n  left: 148px;\n  top: 88px;\n  animation-delay: -0.875s;\n}\n\n.dcs-loading-content > div:nth-child(1) {\n  transform: rotate(0deg);\n  transform-origin: 160px 100px;\n}\n\n.dcs-loading-content div:nth-child(2) > div {\n  left: 130px;\n  top: 130px;\n  animation-delay: -0.75s;\n}\n\n.dcs-loading-content > div:nth-child(2) {\n  transform: rotate(45deg);\n  transform-origin: 142px 142px;\n}\n\n.dcs-loading-content div:nth-child(3) > div {\n  left: 88px;\n  top: 148px;\n  animation-delay: -0.625s;\n}\n\n.dcs-loading-content > div:nth-child(3) {\n  transform: rotate(90deg);\n  transform-origin: 100px 160px;\n}\n\n.dcs-loading-content div:nth-child(4) > div {\n  left: 46px;\n  top: 130px;\n  animation-delay: -0.5s;\n}\n\n.dcs-loading-content > div:nth-child(4) {\n  transform: rotate(135deg);\n  transform-origin: 58px 142px;\n}\n\n.dcs-loading-content div:nth-child(5) > div {\n  left: 28px;\n  top: 88px;\n  animation-delay: -0.375s;\n}\n\n.dcs-loading-content > div:nth-child(5) {\n  transform: rotate(180deg);\n  transform-origin: 40px 100px;\n}\n\n.dcs-loading-content div:nth-child(6) > div {\n  left: 46px;\n  top: 46px;\n  animation-delay: -0.25s;\n}\n\n.dcs-loading-content > div:nth-child(6) {\n  transform: rotate(225deg);\n  transform-origin: 58px 58px;\n}\n\n.dcs-loading-content div:nth-child(7) > div {\n  left: 88px;\n  top: 28px;\n  animation-delay: -0.125s;\n}\n\n.dcs-loading-content > div:nth-child(7) {\n  transform: rotate(270deg);\n  transform-origin: 100px 40px;\n}\n\n.dcs-loading-content div:nth-child(8) > div {\n  left: 130px;\n  top: 46px;\n  animation-delay: 0s;\n}\n\n.dcs-loading-content > div:nth-child(8) {\n  transform: rotate(315deg);\n  transform-origin: 142px 58px;\n}\n\n.dcs-loading-wrapper {\n  width: 200px;\n  height: 200px;\n  display: inline-block;\n  overflow: hidden;\n  background: none;\n}\n\n.dcs-loading-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transform: translateZ(0) scale(1);\n  backface-visibility: hidden;\n  transform-origin: 0 0;\n  /* see note above */\n}\n\n.dcs-loading-content div {\n  box-sizing: content-box;\n}",""]),t.a=r},function(e,t,n){"use strict";var i=n(3),r=n.n(i)()((function(e){return e[1]}));r.push([e.i,".dcs-cameraContainer {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.dcs-cameraCvs,\n.dcs-cameraVideo {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n}\n\n.dcs-display-none {\n  display: none !important;\n}\n\n.dcs-hidden {\n  visibility: hidden !important;\n}\n\n.dcs-disable {\n  color: gray !important;\n  pointer-events: none;\n}\n.dcs-disable > i {\n  color: gray !important;\n}\n\n.dcs-overflowHidden {\n  overflow: hidden;\n}\n\n.dcs-relative {\n  position: relative;\n}\n\n.dcs-fixed-full {\n  position: fixed !important;\n  left: 0 !important;\n  top: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n}\n\n.dcs-dropdownStyle, .dcs-filterDropDown, .dcs-footerButtons .dropdown {\n  list-style: none;\n  background: #292929;\n  bottom: 100%;\n  z-index: 666;\n  padding-left: 10px;\n  align-items: center;\n  display: flex;\n  bottom: 48px;\n  width: 100%;\n  height: 100px;\n  left: 0;\n  position: absolute;\n  overflow: auto;\n  box-sizing: border-box;\n  margin: 0;\n}\n.dcs-dropdownStyle .checkBox, .dcs-filterDropDown .checkBox, .dcs-footerButtons .dropdown .checkBox {\n  display: none;\n}\n.dcs-dropdownStyle img, .dcs-filterDropDown img, .dcs-footerButtons .dropdown img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n.dcs-dropdownStyle > li, .dcs-filterDropDown > li, .dcs-footerButtons .dropdown > li {\n  box-sizing: border-box;\n  border: 2px solid #292929;\n  width: 70px;\n  height: 70px;\n  flex: 0 0 70px;\n  margin-right: 8px;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  background: #fff;\n  position: relative;\n}\n.dcs-dropdownStyle > li p, .dcs-filterDropDown > li p, .dcs-footerButtons .dropdown > li p {\n  white-space: nowrap;\n  pointer-events: none;\n  position: absolute;\n  bottom: -2px;\n  width: calc(100% + 4px);\n  margin-left: -2px;\n  background: rgba(0, 0, 0, 0.5);\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  font-size: 12px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.dcs-dropdownStyle > li img, .dcs-filterDropDown > li img, .dcs-footerButtons .dropdown > li img {\n  pointer-events: none;\n}\n.dcs-dropdownStyle .selectedItem, .dcs-filterDropDown .selectedItem, .dcs-footerButtons .dropdown .selectedItem {\n  border: 2px solid #fe8e14;\n}\n\n.dcs-filterDropDown p {\n  margin: 0;\n}\n\n.dcs-selected i {\n  color: #fe8e14 !important;\n}\n\n.dcs-block {\n  visibility: hidden;\n}",""]),t.a=r},function(e,t,n){"use strict";var i=n(3),r=n.n(i)()((function(e){return e[1]}));r.push([e.i,'@font-face {\n  font-family: "dcs-font";\n  /* Project id 2721323 */\n  src: url("data:font/ttf;charset=utf-8;base64,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") format("truetype");\n}\n.dcs-font {\n  font-family: "dcs-font" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.dcs-i-arrow:before {\n  content: "\\e66f";\n}\n\n.dcs-i-filter:before {\n  content: "\\e601";\n}\n\n.dcs-i-close1:before {\n  content: "\\e627";\n}\n\n.dcs-i-switch1:before {\n  content: "\\e70b";\n}\n\n.dcs-i-capture:before {\n  content: "\\e66e";\n}\n\n.dcs-i-insert:before {\n  content: "\\e651";\n}\n\n.dcs-i-delete:before {\n  content: "\\e653";\n}\n\n.dcs-i-crop:before {\n  content: "\\e654";\n}\n\n.dcs-i-rotateLeft:before {\n  content: "\\e658";\n}\n\n.dcs-i-rotateRight:before {\n  content: "\\e659";\n}\n\n.dcs-i-save:before {\n  content: "\\e65a";\n}\n\n.dcs-i-leftUnable:before {\n  content: "\\e65b";\n}\n\n.dcs-i-nextPage:before {\n  content: "\\e65c";\n}\n\n.dcs-i-prePage:before {\n  content: "\\e65d";\n}\n\n.dcs-i-nextUnable:before {\n  content: "\\e65e";\n}\n\n.dcs-i-fullCrop:before {\n  content: "\\e65f";\n}\n\n.dcs-i-next:before {\n  content: "\\e660";\n}\n\n.dcs-i-back:before {\n  content: "\\e663";\n}\n\n.dcs-i-old-autoCapture:before {\n  content: "\\e662";\n}\n\n.dcs-i-autoCapture:before {\n  content: "\\e66d";\n}\n\n.dcs-i-old-autoDetect:before {\n  content: "\\e664";\n}\n\n.dcs-i-autoDetect:before {\n  content: "\\e670";\n}\n\n.dcs-i-close:before {\n  content: "\\e665";\n}\n\n.dcs-i-old-load:before {\n  content: "\\e666";\n}\n\n.dcs-i-load:before {\n  content: "\\e66b";\n}\n\n.dcs-i-switch:before {\n  content: "\\e667";\n}\n\n.dcs-i-resolution:before {\n  content: "\\e668";\n}\n\n.dcs-i-old-continuous:before {\n  content: "\\e669";\n}\n\n.dcs-i-continuous:before {\n  content: "\\e66c";\n}',""]),t.a=r},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,o=Object.create(r.prototype),a=new D(i||[]);return o._invoke=function(e,t,n){var i=d;return function(r,o){if(i===A)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return k()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=A;var c=u(e,t,n);if("normal"===c.type){if(i=n.done?p:h,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",h="suspendedYield",A="executing",p="completed",f={};function g(){}function m(){}function v(){}var b={};c(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==n&&i.call(x,o)&&(b=x);var E=v.prototype=g.prototype=Object.create(b);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function B(e,t){function n(r,o,a,s){var c=u(e[r],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function I(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=u(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:k}}function k(){return{value:t,done:!0}}return m.prototype=v,c(E,"constructor",v),c(v,"constructor",m),m.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},y(B.prototype),c(B.prototype,a,(function(){return this})),e.AsyncIterator=B,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new B(l(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(E),c(E,s,"Generator"),c(E,o,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=L,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;_(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:L(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=i}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,i)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.r(t);var i=n(4),r=n.n(i),o=n(1),a=n.n(o),s=n(0),c=n.n(s),l=function(){function e(){this._events=[]}var t=e.prototype;return t.on=function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},t.once=function(e,t){t._once=!0,this.on(e,t)},t.emit=function(e){var t=this._events[e];if(t&&0!==t.length){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=0;o<t.length;o++){var a=t[o];a.call.apply(a,[null].concat(i)),a._once&&(t.splice(o,1),o--)}}},t.emitEx=function(e){var t=this._events[e];if(t&&0!==t.length){for(var n=[],i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(var a=0;a<t.length;a++){var s=t[a],c=s.call.apply(s,[null].concat(r));c instanceof Promise&&n.push(c),s._once&&(t.splice(a,1),a--)}return Promise.all(n)}},t.off=function(e,t){var n=this._events[e];if(n)if(t)for(var i=n.length,r=0;r<i;r++)n[r]===t&&n.splice(r,1);else n&&(n.length=0)},e}(),u=new l,d=n(12),h=n.n(d),A=n(5),p=n.n(A),f=window.Dynamsoft;function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e){return"function"==typeof e}function v(e){return"string"==typeof e}function b(e){return"number"==typeof e&&!Number.isNaN(e)}function w(e,t){for(var n in e)void 0===t[n]?t[n]=e[n]:g(e[n])&&g(t[n])?w(e[n],t[n]):void 0!==e[n]&&(t[n]=e[n])}function x(e){u.emit("error",e)}function E(e,t){u.emit("typeError",e,t)}function y(e,t,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],c=e[5],l=e[6],u=e[7];return B(i,0)&&B(r,0)&&B(o,t)&&B(a,0)&&B(s,t)&&B(c,n)&&B(l,0)&&B(u,n)}function B(e,t,n){return void 0===n&&(n=1),Math.abs(e-t)<=n}function I(e,t){return t.split(".").reduce((function(e,t){return e[t]||{}}),e)}function C(e){var t,n,i;return(f.navInfo.biPhone||f.navInfo.biPad)&&(t=5,n=85,i=3840),f.ImageProcWrapper.getMax4kImage(e,t,n,i)}function _(e){var t={source:e,output:{orgImage:!1,previewImage:{quality:85,width:200,height:200,returnType:f.Enum_ImageType.IT_JPG,returnBlob:!0,nInterplationMethod:5}}};return f.ImageProcWrapper.createImage(t).then((function(t){return e.imageData=t.src,t.preview}))}var D=function(e){window.Dynamsoft&&window.Dynamsoft.Lib.log(e)},L="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",k=function(){function e(e){var t=this;this.mode="normal",this.vertexes=[],this.midpoints=[],this.probePoints=[],this.slopeRatio=[],this.isCrop=!1,this.ctrlRadius=4,this.sensorRadius=4,this.defaultLineColor="rgba(0,0,0,1)",this.defaultFirstPointColor="rgba(255,0,0,1)",this.invalidLineColor="rgba(255,0,0,1)",this.invalidFirstPointColor="rgba(0,0,0,1)",this.lineColor="rgba(0,0,0,1)",this.firstPointColor="rgba(0,0,0,1)",this.pointFillColor="rgba(255,255,255,0)",this.lineWidth=1,this.dashLine=[4,2],this.isPointSelected=!1,this.activeProbePoint=null,this.moveLeft=0,this.moveTop=0,this.isMoveBox=!1,this.width=0,this.height=0,this.leftEdge=0,this.topEdge=0,this.type="bottomRight",this.keepAspectRatio=!1,this.aspectRatio=0,this._startX=null,this._startY=null,this._lastX=null,this._lastY=null,this._lastWhr=1,this.zoom=1,this.dpr=1,this.zoom=e.zoom||1,Object.keys(e).forEach((function(n){t[n]=e[n]})),this._initBox()}var t=e.prototype;return t.getRect=function(){if("free"===this.mode)return null;var e=this._getMaxPoint(),t=e.minX,n=e.maxX,i=e.minY,r=e.maxY;return{x:Math.floor(t),y:Math.floor(i),width:Math.floor(n-t),height:Math.floor(r-i)}},t._initBox=function(){this.midpoints=M(this.vertexes),this.probePoints=this.vertexes.slice().concat(this.midpoints.slice()),this.slopeRatio=P(this.vertexes)},t._getMaxPoint=function(){return{minX:Math.min(this.probePoints[0],this.probePoints[2],this.probePoints[4],this.probePoints[6]),maxX:Math.max(this.probePoints[0],this.probePoints[2],this.probePoints[4],this.probePoints[6]),minY:Math.min(this.probePoints[1],this.probePoints[3],this.probePoints[5],this.probePoints[7]),maxY:Math.max(this.probePoints[1],this.probePoints[3],this.probePoints[5],this.probePoints[7])}},t.checkPointPosition=function(e){var t=this._getMaxPoint(),n=t.minX,i=t.maxX,r=t.minY,o=t.maxY,a=this.probePoints[2*e],s=this.probePoints[2*e+1];return e<4?a===i&&s===o?"se":a===i&&s===r?"ne":a===n&&s===r?"nw":a===n&&s===o?"sw":null:a===i?"e":s===o?"s":a===n?"w":s===r?"n":null},t.onStartHandler=function(e,t,n){var i=this.isBoxSelected(e,t);if(void 0!==n&&(i=n),null!==i&&(this._startX=e,this._startY=t,this._lastX=e,this._lastY=t,-1===i?(this.isPointSelected=!1,this.activeProbePoint=null,"normal"===this.mode&&(this.isMoveBox=!0)):(this.isPointSelected=!0,this.activeProbePoint=i,this.isMoveBox=!1),"free"===this.mode&&i>3)){var r=i-4;this.k1=this.slopeRatio[(r+1)%4],this.b1=this.probePoints[(2*r+3)%8]-this.k1*this.probePoints[(2*r+2)%8],this.k2=this.slopeRatio[(r+3)%4],this.b2=this.probePoints[(2*r+1)%8]-this.k2*this.probePoints[(2*r+0)%8]}},t.onMoveHandler=function(e,t,n){if(this.isPointSelected||this.isMoveBox){var i=this.probePoints.slice();if(this.isPointSelected){var r=this.activeProbePoint;void 0!==n&&(r=n),"normal"===this.mode?i=this._movePointNormal(i,r,e,t):(i=this._movePointFree(i,r,e,t),this.slopeRatio=P(this.probePoints).slice(0,4)),this.probePoints=i.slice(),this._checkRectConvexity(this.probePoints)?(this.lineColor=this.defaultLineColor,this.firstPointColor=this.defaultFirstPointColor):(this.lineColor=this.invalidLineColor,this.firstPointColor=this.invalidFirstPointColor)}else if(this.isMoveBox){var o=e-this._lastX,a=t-this._lastY;if(0===o&&0===a)return;i=this._moveBox(i,o,a),this.probePoints=i.slice()}var s=M(this.probePoints);this.probePoints=this.probePoints.slice(0,8).concat(s),this.midpoints=s,this._lastX=e,this._lastY=t}},t.onEndHandler=function(){this.lineColor=this.defaultLineColor,this.firstPointColor=this.defaultFirstPointColor;var e=this._startX,t=this._startY;this._startX=0,this._startY=0;var n=this._lastX,i=this._lastY;if(this.isPointSelected||this.isMoveBox){this.isPointSelected=!1,this.isMoveBox=!1,this.activeProbePoint=null;var r=this._checkRectConvexity(this.probePoints);(e===n&&t===i||!r)&&(this.probePoints=this.vertexes.slice().concat(this.midpoints)),this.vertexes=this.probePoints.slice(0,8),this.midpoints=M(this.probePoints),this.probePoints=this.probePoints.slice(0,8).concat(this.midpoints),this.slopeRatio=P(this.probePoints).slice(0,4)}},t._checkEdge=function(e,t){return!!(e>=0&&e<=this.width&&t>=0&&t<this.height)},t._movePointNormal=function(e,t,n,i){n=Math.max(this.leftEdge,Math.min(this.width,n)),i=Math.max(this.topEdge,Math.min(this.height,i));var r=0,o=0;if(this.keepAspectRatio){var a=this._getMaxPoint(),s=a.minX,c=a.maxX,l=a.minY,u=a.maxY,d=this.checkPointPosition(t),h=(c-s)/(u-l);0===h||h===1/0||h===-1/0||Number.isNaN(h)?h=this._lastWhr:this._lastWhr=h,r=0,o=0;var A="width";if(t<4){if(r=n-e[2*t],o=i-e[2*t+1],0===r||0===o)return e;A="width"}else{var p=t-4;if("e"===d?(t=(p+1)%4,A="width"):"s"===d?(t=p,A="height"):"w"===d?(t=p,A="width"):"n"===d&&(t=(p+1)%4,A="height"),r=n-e[2*p],o=i-e[2*p+1],0===r||0===o)return e}"height"===A?(r=o*h,"ne"!==d&&"sw"!==d&&"n"!==d&&"w"!==d||(r=-r)):(o=r/h,"ne"!==d&&"sw"!==d&&"n"!==d&&"w"!==d||(o=-o));var f=e[2*t]+r,g=e[2*t+1]+o;f<0?(r=0-e[2*t],o=0):f>this.width?(r=this.width-e[2*t],o=0):g<0?(o=0-e[2*t+1],r=0):g>this.height&&(o=this.height-e[2*t+1],r=0),e[2*t]+=r,e[2*t+1]+=o;var m=(t+1)%4,v=(t+3)%4;t%2?(e[2*m]+=r,e[2*v+1]+=o):(e[2*m+1]+=o,e[2*v]+=r)}else if(t<4){if(r=n-e[2*t],o=i-e[2*t+1],0===r&&0===o)return e;e[2*t]=n,e[2*t+1]=i;var b=(t+1)%4,w=(t+3)%4;t%2?(e[2*b]=n,e[2*w+1]=i):(e[2*b+1]=i,e[2*w]=n)}else{var x=t-4,E=this.slopeRatio[x%4];0===E?(e[(2*x+3)%8]=i,e[(2*x+1)%8]=i):E!==1/0&&E!==-1/0||(e[(2*x+2)%8]=n,e[(2*x+0)%8]=n)}return e},t._movePointFree=function(e,t,n,i){n=Math.max(this.leftEdge,Math.min(this.width,n)),i=Math.max(this.topEdge,Math.min(this.height,i));var r=e.slice();if(t<4){var o=n-e[2*t],a=i-e[2*t+1];if(0===o&&0===a)return e;e[2*t]=n,e[2*t+1]=i}else{var s=t-4,c=this.slopeRatio[s%4],l=i-c*n,u=-l/c,d=l,h=e[(2*s+9)%8]-c*e[(2*s+8)%8],A=-h/c,p=this.k1,f=this.b1,g=this.k2,m=this.b2;0===c?(e[(2*s+3)%8]=i,p!==1/0&&p!==-1/0&&(e[(2*s+2)%8]=(i-f)/p),e[(2*s+1)%8]=i,g!==1/0&&g!==-1/0&&(e[(2*s+0)%8]=(i-m)/g)):c===1/0||c===-1/0?(e[(2*s+2)%8]=n,e[(2*s+3)%8]=p*n+f,e[(2*s+0)%8]=n,e[(2*s+1)%8]=g*n+m):(0===p?e[(2*s+2)%8]+=u-A:p===1/0||p===-1/0?e[(2*s+3)%8]+=d-h:(e[(2*s+2)%8]=(f-l)/(c-p),e[(2*s+3)%8]=(c*f-p*l)/(c-p)),0===g?e[(2*s+0)%8]+=u-A:g===1/0||g===-1/0?e[(2*s+1)%8]+=d-h:(e[(2*s+0)%8]=(m-l)/(c-g),e[(2*s+1)%8]=(c*m-g*l)/(c-g)));for(var v=0;v<4;v++){var b=e[2*v],w=e[2*v+1];if(b<this.leftEdge||b>this.width||w<this.topEdge||w>this.height)return r}}return e},t._moveBox=function(e,t,n){if("normal"===this.mode){var i=Math.min(e[0],e[2],e[4],e[6]),r=Math.max(e[0],e[2],e[4],e[6]),o=Math.min(e[1],e[3],e[5],e[7]),a=Math.max(e[1],e[3],e[5],e[7]);i+t<0&&(t=-i),r+t>this.width&&(t=this.width-r),o+n<0&&(n=-o),a+n>this.height&&(n=this.height-a);for(var s=0;s<4;s++)e[2*s]+=t,e[2*s+1]+=n}return e},t._isPointOnBox=function(e,t){if("normal"===this.mode){var n=this._getMaxPoint(),i=n.minX,r=n.maxX,o=n.minY,a=n.maxY;return e>=i&&e<=r&&t>=o&&t<=a}return!1},t.isBoxSelected=function(e,t){var n=this._isPointOnBox(e,t),i=this.isCtrlPointSelected(e,t);return null!==i?i:n?-1:null},t.isCtrlPointSelected=function(e,t){var n=this.sensorRadius,i=this._getMaxPoint(),r=i.minX,o=i.maxX,a=i.minY,s=i.maxY,c=Math.min(Math.max(n,.1*(o-r)),3*n)*this.dpr,l=Math.min(Math.max(n,.1*(s-a)),3*n)*this.dpr,u=8;"free"===this.mode&&(u=8);for(var d=0;d<u;d++){var h=this.probePoints[2*d],A=this.probePoints[2*d+1];if(e<=h+c&&e>=h-c&&t<=A+l&&t>=A-l)return d}return null},t._checkRectConvexity=function(e){var t=(e[6]-e[0])*(e[3]-e[1])-(e[7]-e[1])*(e[2]-e[0]),n=(e[0]-e[2])*(e[5]-e[3])-(e[1]-e[3])*(e[4]-e[2]),i=(e[2]-e[4])*(e[7]-e[5])-(e[3]-e[5])*(e[6]-e[4]),r=(e[4]-e[6])*(e[1]-e[7])-(e[5]-e[7])*(e[0]-e[6]);if(t*n*i*r<0)return!1;var o=e.slice().concat(e.slice(0,2));if(this.slopeRatio.length)for(var a=0;a<2;a++)if(this.slopeRatio[a]!==this.slopeRatio[a+2]&&R(o.slice(2*a,2*a+2),o.slice(2*a+2,2*a+4),o.slice(2*a+4,2*a+6),o.slice(2*a+6,2*a+8)))return!1;return t*n*i*r>0},e}();function M(e){for(var t=e.slice(0,8).concat(e[0],e[1]),n=[],i=0;i<4;i++){var r=(t[2*i]+t[2*i+2])/2,o=(t[2*i+1]+t[2*i+3])/2;n.push(r,o)}return n}function P(e){for(var t=[],n=null,i=e.slice(0,8).concat(e[0],e[1]),r=0;r<4;r++)n=i[2*r+3]-i[2*r+1]==0&&i[2*r+2]-i[2*r]==0?0:(i[2*r+3]-i[2*r+1])/(i[2*r+2]-i[2*r]),t.push(n);return t}function R(e,t,n,i){if(function(e,t,n,i){var r=Math.min,o=Math.max;return r(e[0],t[0])<=o(n[0],i[0])&&r(n[0],i[0])<=o(e[0],t[0])&&r(e[1],t[1])<=o(n[1],i[1])&&r(n[1],i[1])<=o(e[1],t[1])}(e,t,n,i)&&function(e,t,n,i){var r,o;return!(((r=e[0]*(n[1]-t[1])+t[0]*(e[1]-n[1])+n[0]*(t[1]-e[1]))^(o=e[0]*(i[1]-t[1])+t[0]*(e[1]-i[1])+i[0]*(t[1]-e[1])))>=0&&0!==r&&0!==o)&&!(((r=n[0]*(e[1]-i[1])+i[0]*(n[1]-e[1])+e[0]*(i[1]-n[1]))^(o=n[0]*(t[1]-i[1])+i[0]*(n[1]-t[1])+t[0]*(i[1]-n[1])))>=0&&0!==r&&0!==o)}(e,t,n,i)){var r,o;if(r=(i[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-i[1]),o=(e[1]-n[1])*(t[0]-e[0])*(i[0]-n[0])+n[0]*(i[1]-n[1])*(t[0]-e[0])-e[0]*(t[1]-e[1])*(i[0]-n[0]),0===r||0===o){var a=S(e,t),s=S(n,i),c=a[0],l=a[1],u=s[0],d=s[1];if(l[0]===u[0]&&l[1]===u[1])return l;if(c[0]===d[0]&&c[1]===d[1])return c;if(Q(l,s)&&Q(u,a))return[u,l];if(Q(c,s)&&Q(d,a))return[c,d];if(Q(c,s)&&Q(l,s))return[c,l];if(Q(u,s)&&Q(d,s))return[u,d]}var h=o/r;return r=(e[0]-t[0])*(i[1]-n[1])-(t[1]-e[1])*(n[0]-i[0]),[h,(o=t[1]*(e[0]-t[0])*(i[1]-n[1])+(i[0]-t[0])*(i[1]-n[1])*(e[1]-t[1])-i[1]*(n[0]-i[0])*(t[1]-e[1]))/r]}return!1}function S(e,t){return e[0]===t[0]?e[1]<t[1]?[e,t]:[t,e]:e[0]<t[0]?[e,t]:[t,e]}function Q(e,t){return t[0][0]===t[1][0]?e[1]>=t[0][1]&&e[1]<=t[1][1]:e[0]>=t[0][0]&&e[0]<=t[1][0]}var T=function(){function e(e){this._cvs=null,this._cropBox=null,this._isCropping=!1,this._zoom=1,this._edgeMargin=20,this._cropStyle={cornerColor:"#FE8E14",lineColor:"#FE8E14",lineWidth:2,lineDash:"solid"},this._cvs=e,this._initEvent()}var t=e.prototype;return t.dispose=function(){this._cvs.removeEventListener("touchstart",null),this._cvs.removeEventListener("touchmove",null),this._cvs.removeEventListener("touchend",null),this._cvs.removeEventListener("mousedown",null),document.removeEventListener("mousemove",null),document.removeEventListener("mouseup",null),this._cvs=null,this.onAreaChanged=null},t.setCropMode=function(e){e!==this._isCropping&&(e||(this._cropBox=null),this._isCropping=e)},t.setZoom=function(e){this._zoom=e,this._cropBox&&(this._cropBox.zoom=e)},t.setCropArea=function(e,t){if(e){this._limitArea=t;var n=this._cvs,i=this._zoom,r=this._edgeMargin,o=e.map((function(e,n){return n%2==0?e/i+t.relLeft+r:e/i+t.relTop+r}));this._cropBox=new k({zoom:i,vertexes:o,width:n.width-r-t.relLeft,height:n.height-r-t.relTop,leftEdge:r+t.relLeft,topEdge:r+t.relTop,mode:"free",dpr:window.devicePixelRatio}),this._isCropping&&this._drawCropArea()}},t.getCropArea=function(){var e=this._cropBox,t=this._zoom,n=this._edgeMargin,i=this._limitArea;return e?e.vertexes.map((function(e,r){return r%2==0?(e-i.relLeft-n)*t:(e-i.relTop-n)*t})):[]},t.setCropStyle=function(e){w(e,this._cropStyle),this._isCropping&&this._drawCropArea()},t.resize=function(e){var t=this._cropBox,n=this._edgeMargin;if(t){var i=this._cvs,r=i.width,o=i.height;t.width=r-n-e.relLeft,t.height=o-n-e.relTop,t.leftEdge=n+e.relLeft,t.topEdge=n+e.relTop}},t._initEvent=function(){var e=this,t=this._cvs;function n(e){this._cvsBoundingRect=this._cvs.getBoundingClientRect();var t=this._cropBox,n=this._cvsBoundingRect;if(t){var i=n.left,r=n.top;this._cropBox.onStartHandler(e.clientX-i,e.clientY-r)}}function i(e){if(this._cropBox&&this._cropBox.isPointSelected){var t=this._cvsBoundingRect,n=t.left,i=t.top;this._cropBox.onMoveHandler(e.clientX-n,e.clientY-i),this._drawCropArea()}}function r(){var e;this._cropBox&&this._cropBox.isPointSelected&&(this._cropBox.onEndHandler(),this._drawCropArea(),null===(e=this.onAreaChanged)||void 0===e||e.call(this,this.getCropArea()))}t.addEventListener("touchstart",(function(t){var i=t.touches;i.length>1||n.call(e,i[0])})),t.addEventListener("mousedown",n.bind(this)),t.addEventListener("touchmove",(function(t){var n=t.touches;n.length>1||e._cropBox.isPointSelected&&(i.call(e,n[0]),t.preventDefault())})),document.addEventListener("mousemove",i.bind(this)),t.addEventListener("touchend",r.bind(this)),document.addEventListener("mouseup",r.bind(this))},t._drawCropArea=function(){var e=this._cropBox,t=this._cvs,n=this._cropStyle;if(e){var i=e.probePoints.slice(),r=t.getContext("2d");r.clearRect(0,0,t.width,t.height);var o=n.lineWidth;if(o%2!=0)for(var a=0;a<i.length;a++)i[a]=Math.floor(i[a])-o/2;var s=i.slice(0,8);r.fillStyle="rgba(0, 0, 0, 0.2)",r.fillRect(0,0,t.width,t.height),function(e,t,n){e.save(),e.beginPath(),e.strokeStyle=n.lineColor,e.lineWidth=n.lineWidth,"dashed"===n.lineDash&&e.setLineDash([5,5]),e.moveTo(t[0],t[1]);for(var i=0;i<t.length;i+=2){var r=(i+2)%8,o=[t[r],t[r+1]];e.lineTo.apply(e,o)}e.closePath(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0,0,0)",e.fill(),e.globalCompositeOperation="source-over",e.stroke(),e.closePath(),e.restore()}(r,s,n),function(e,t,n){var i=Math.floor(8);e.save(),e.strokeStyle=n.cornerColor,e.lineWidth=n.lineWidth;for(var r=0;r<t.length;r+=2){var o=[t[r],t[r+1]];e.clearRect(o[0]-i/2,o[1]-i/2,i,i),e.strokeRect(o[0]-i/2,o[1]-i/2,i,i)}e.restore()}(r,i,n)}},e}(),F=function(){function e(e,t){this._obElement=null,this._callback=null,this._unbindFn=null,this._callback=t,this._obElement=e,this._initObserver()}var t=e.prototype;return t._initObserver=function(){var e=this._callback,t=this._obElement;if(void 0!==window.ResizeObserver){var n=new(0,window.ResizeObserver)((function(t){var n=t[0];e(n.contentRect)}));n.observe(t),this._unbindFn=function(){n.unobserve(t),n.disconnect(),n=null}}else{var i=document.createElement("iframe");i.id="fm",i.style.cssText="width:100%;height:100%;z-index:-1;",i.onresize=function(){var n=t.getBoundingClientRect();e(n)},this._unbindFn=function(){i.remove(),i=null}}},t.dispose=function(){this._unbindFn(),this._unbindFn=null,this._callback=null,this._obElement=null},e}(),N=function(){function e(e,t){this.name="",this.icon="",this.text="",this.className="",this.onclick=null,this.element=null,this.options=e,this.context=t,this.element=this._initEl()}var t=e.prototype;return t._initEl=function(){var e=this.options,t=e.icon,n=e.text,i=e.className,r=e.onclick,o=e.name,a=e.onmount,s=e.onunmount,c=e.dropdown,l=e.order,d=void 0===l?0:l,h=e.onSelected,A=e.isSelected,p=void 0!==A&&A,f=e.visibility,g=void 0===f||f,b=this.context,w=document.createElement("div");if(this.name=o,i){if(!1===g)return w.className=i+" dcs-block",w;w.className=i}return w.style.order=String(d),function(e,t){if(t){var n=document.createElement("i");n.className=t,e.appendChild(n)}}(w,t),function(e,t){if(t){var n=document.createElement("p");n.innerText=t,e.appendChild(n)}}(w,n),function(e,t,n,i){t&&setTimeout((function(){t(e,n,i)}),0)}(w,a,b,p),s&&(this._unmount=s.bind(null,w,b)),function(e,t,n){e.addEventListener("click",(function(e){v(t)?u.emit(t,e,n):m(t)&&t(e,n)}))}(w,r,b),function(e,t,n,i){var r=e;r.bSelected=i,t&&(i&&e.classList.add("dcs-selected"),e.addEventListener("click",(function(i){r.bSelected=!r.bSelected,e.classList[r.bSelected?"add":"remove"]("dcs-selected"),null==t||t(r.bSelected,n)})))}(w,h,b,p),function(e,t,n){U.apply(this,arguments)}(w,b,c),w},t.destroy=function(){var e;null===(e=this._unmount)||void 0===e||e.call(this),this.element=null},t.update=function(){if(this.element){var e,t=this._initEl();null===(e=this.element.parentElement)||void 0===e||e.insertBefore(t,this.element),this.element.remove(),this.element=t}},t.setSelected=function(e){var t=this.options.onSelected;t&&t(e,this.context)},e}();function U(){return(U=a()(c.a.mark((function e(t,n,i){var r,o,a,s,l,u,d,h,A;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,A=function(e,t,n){t.dataset.showDropdown="false",e.onclick=function(i){"true"!=t.dataset.showDropdown&&(t.classList.remove("dcs-display-none"),e.classList.add("dcs-selected"),t.dataset.showDropdown="true",i.stopPropagation(),n.dcs.addGlobalClickEvent(t,(function(){return!(!t||"true"!=t.dataset.showDropdown||(t.classList.add("dcs-display-none"),t.parentElement.classList.remove("dcs-selected"),t.dataset.showDropdown="false",n.dcs.emit("hideResolutionList"),0))})))}},h=function(e,t,n,i){void 0===t&&(t=!1);for(var r=[],o=e.children,a=0;a<o.length;a++)o[a].classList.contains("selectedItem")&&r.push(o[a]);var s=!0;function c(e,t){e.classList[t?"add":"remove"]("selectedItem")}e.onclick=function(o){var a,l,u=!1;if(o instanceof MouseEvent){if(o.stopPropagation(),!s)return;l=o.target,u=!0}else l=o;if("LI"===(null===(a=l)||void 0===a?void 0:a.tagName)){s=!1;var d=r.indexOf(l);if(d>-1){if(!t)return void(s=!0);r.splice(d,1),c(l,!0)}else if(t)r.push(l),c(l,!0);else{for(;r.length;)c(r.pop(),!1);c(l,!0),r.push(l),e&&(e.parentNode.classList.remove("dcs-selected"),e.classList.add("dcs-display-none"),e.dataset.showDropdown="false",i.dcs.emit("hideResolutionList",e,i))}if(u){var h=null==n?void 0:n(l,l.customData,i);Promise.resolve(h).then((function(){s=!0}))}}}},d=function(e){var t=document.createDocumentFragment();return e.forEach((function(e,n){var i=document.createElement("li"),r=e.value,o=e.innerHtml;if(i.customData=r,e.isSelected&&i.classList.add("selectedItem"),o)i.innerHTML=o;else{var a=document.createElement("i");a.style.pointerEvents="none",a.className=e.icon||"";var s=document.createElement("p");s.style.pointerEvents="none",s.innerText=e.text||"",i.appendChild(a),i.appendChild(s)}t.appendChild(i)})),t},i){e.next=6;break}return e.abrupt("return");case 6:return r=i.list,o=i.multiple,a=i.onclick,e.next=9,r(t,n);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0=[];case 12:s=e.t0,l=d(s),(u=t.querySelector("dropdown"))?(u.removeEventListener("click",null),u.childNodes.forEach((function(e){e.remove()})),u.appendChild(l)):((u=document.createElement("ul")).className="resolutionList dropdown dcs-display-none",u.appendChild(l),t.appendChild(u)),A(t,u,n),h(u,o,a,n),e.next=29;break;case 20:return e.prev=20,e.t1=e.catch(0),D("Error Begin---"),D(e.t1),D(t),D(n),D(i),D("Error End---"),e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}var Y=n(13),V=n.n(Y),H={code:-4201,message:"HTTPS is required for accessing cameras."},G={code:-4202,message:"The current browser has not implemented the MediaDevices interface."},j={code:-4203,message:"The current browser has not implemented the getUserMedia interface."},O={code:-4205,message:"No camera is selected."},J={code:-4206,message:"A Video element is required for this operation."},z={code:-4207,message:"The camera is not plugged in."},W={code:-4208,message:"The camera is not open."},Z={code:-4210,message:"Failed to get camera input."},X={code:-4211,message:"The camera source can not be found."},K={code:-4214,message:"The video must be playing for the capture operation to work."},q={code:-4215,message:"The video is already playing. Please stop the video before attempting to play it again to a different container."},$={code:-4216,message:"No camera is found."},ee={code:-4217,message:"The license is invalid."},te={code:-4218,message:"The number of images processed at one time exceeds the maximum limit."},ne={code:-4220,message:"No image is found for the capture operation."},ie={code:-4221,message:"The image format is not support."},re={code:-4222,message:"The resolution is not support."},oe=function(){return{icon:"dcs-font dcs-i-load",onclick:(e=a()(c.a.mark((function e(t,n){var i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=n.dcs).emit("blurPage"),!i.loadFn){e.next=9;break}return e.next=5,i.loadFn(n);case 5:(r=e.sent)&&!n.page.isDestroyed&&ce(r,i),e.next=11;break;case 9:return e.next=11,ae(t.target,n);case 11:i.emit("focusPage");case 12:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)}),className:"dcs-btn-loadBtn",text:"Load"};var e};function ae(e,t){return se.apply(this,arguments)}function se(){return(se=a()(c.a.mark((function e(t,n){var i,r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,r=!1,(o=document.createElement("input")).type="file",o.multiple=!0,o.accept="image/png,image/jpeg",s=function(){o.value=null,o.files=null,o.onchange=null,o=null,r=!1,i=!1,n.dcs.removeGlobalBlurEvent(t),n.dcs.removeGlobalFocusEvent(t)},r=!0,o.click(),i=!0,e.abrupt("return",new Promise((function(e){n.dcs.addGlobalFocusEvent(t,(function(){setTimeout((function(){!r&&i&&(gt.log("select file canceled"),s(),t.onblur=null,e(!0))}),200)})),n.dcs.addGlobalBlurEvent(t,(function(){r&&i&&(gt.log("selecting file"),r=!1)})),o.onchange=a()(c.a.mark((function r(){var a,l,d,h,A,p,f;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((a=n.dcs).showLoading("load local image"),r.prev=2,i=!1,""!==o.value){r.next=7;break}r.next=25;break;case 7:l=o.files,d=[],h=!1,A=0;case 11:if(!(A<l.length)){r.next=24;break}if("application/pdf"!=(p=l[A]).type&&"image/tiff"!=p.type){r.next=17;break}return 0==h&&u.emit("video-error",ie),h=!0,r.abrupt("continue",21);case 17:return r.next=19,C(l[A]);case 19:f=r.sent,d.push(f);case 21:A++,r.next=11;break;case 24:d.length>0&&!n.page.isDestroyed&&ce(d,a);case 25:return r.prev=25,a.hideLoading("load local image"),s(),t.onblur=null,e(!0),r.finish(25);case 31:case"end":return r.stop()}}),r,null,[[2,,25,31]])})))})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=a()(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.showLoading("handleBlobList"),it(n,t).finally((function(){n.hideLoading("handleBlobList")}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return de.apply(this,arguments)}function de(){return(de=a()(c.a.mark((function e(t,n){var i,r,o,a,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.page,r=n.dcs,o=t.currentTarget,a=i.options,!o.classList.contains("dcs-selected")){e.next=22;break}if(s=!1,a.file&&a.file.blobList&&a.file.blobList.length>0&&(s=!0),!r.config.scannerViewer.funcConfirmExitContinuousScan||0!=r.config.scannerViewer.funcConfirmExitContinuousScan(s)){e.next=9;break}return e.abrupt("return");case 9:o.classList.remove("dcs-selected"),a.continuous=!1,a.file.blobList=[],(l=document.querySelector(".previewImg")).src&&(mt.revokeObjectURL(l.src),l.src=L),l.parentElement.classList.add("dcs-hidden"),r.multipleHandleFn([],{page:i,dcs:r}),r.multipleView=!1,r._dvs.camera&&r._dvs.camera._cameraDvs&&r._dvs.camera._cameraDvs.ViewControl&&r._dvs.camera._cameraDvs.ViewControl.getViewerByIndex(0).removeAllSync(),r.config.scannerViewer.maxDocuments>0&&(r.config.scannerViewer.autoScan.enableAutoScan||r.config.scannerViewer.autoDetect.enableAutoDetect)&&(r.captureLoop.changeStyle(),r.captureLoop.setEnable(),r.config.scannerViewer.autoScan.enableAutoScan?r.captureLoop.setAutoScan():r.captureLoop.setAutoDetect()),e.next=25;break;case 22:o.classList.add("dcs-selected"),a.continuous=!0,r.multipleView=!1;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=function(){return{icon:"dcs-font dcs-i-close",className:"dcs-btn-closeBtn",onclick:(e=a()(c.a.mark((function e(t,n){var i,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.dcs,!(r=n.page)._isClosed){e.next=4;break}return i.navigateBack(),e.abrupt("return");case 4:if(r._isClosed=!0,i.emit("blurPage"),!i.multipleCloseHandleFn){e.next=9;break}return e.next=9,i.multipleCloseHandleFn();case 9:if(o=!1,r.options&&r.options.file&&r.options.file.blobList&&r.options.file.blobList.length>0&&(o=!0),"homePage"!=r.pageName||!i.config.scannerViewer.funcConfirmExit||0!=i.config.scannerViewer.funcConfirmExit(o)){e.next=13;break}return e.abrupt("return");case 13:i.navigateBack();case 14:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})};var e},Ae=function(){return{icon:"dcs-font dcs-i-resolution",className:"dcs-btn-resBtn",dropdown:{multiple:!1,list:function(e,t){var n=t.dcs;return new Promise((function(e,t){n.once("onPlayed",a()(c.a.mark((function t(){var i,r,o,a,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=I(n,"config.scannerViewer.resolution"),r=i.valueList,o=i.defaultValue,n.showLoading("resolution list"),t.prev=3,r&&r.length){t.next=12;break}return t.next=7,n.getResolution();case 7:a=t.sent,o=o||{width:1280,height:720},r=a.map((function(e){return{label:e.width+"×"+e.height,value:e}})),t.next=13;break;case 12:o=o||r[r.length-1].value;case 13:if(!((s=pe(o,r))<0)){t.next=31;break}return t.next=17,n.getCurrentResolution();case 17:if(!(l=t.sent)||l.width==o.width||l.height==o.height){t.next=30;break}return t.prev=19,t.next=22,n.setResolution(o);case 22:s<0&&(r.push({value:l,label:l.width+"×"+l.height}),s=r.length-1),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(19);case 28:t.next=31;break;case 30:s<0&&(r.push({value:l,label:l.width+"×"+l.height}),s=r.length-1);case 31:e(r.map((function(e,t){return{value:e.value,text:e.label,icon:"checkBox",isSelected:t===s}})));case 32:return t.prev=32,n.hideLoading("resolution list"),t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[3,,32,35],[19,25]])})))),n.on("resetResolution",(function(){var e,t=n.config.scannerViewer.resolution.defaultValue,i=n.config.scannerViewer.resolution.valueList,r=pe(t,i);r<0&&(i.push({value:t,label:t.width+"×"+t.height}),r=i.length-1);var o=document.getElementsByClassName("resolutionList");if(o&&o.length>0)for(var a=o[0],s=0;s<a.childNodes.length;s++)e=a.childNodes[s],s==r&&a.onclick(e)})),n.on("resetRealResolution",(function(){var e=n.config.scannerViewer.resolution.defaultValue;n.showLoading("resolution button click"),n.setResolution(e).then((function(e){n.hideLoading("resolution button click")}))}))}))},onclick:function(e,t,n){var i=n.dcs;i.showLoading("resolution button click"),i.setResolution(t).then((function(e){t.width!=e.width&&t.height!=e.height&&u.emit("video-error",re),i.config.scannerViewer.resolution.defaultValue=t,i.hideLoading("resolution button click"),i.getCameraView().resetVideoInfo()}))}},onclick:function(e,t){var n=t.dcs;t.page,n.emit("blurPage"),n.once("hideResolutionList",(function(){n.emit("focusPage")}))}}};function pe(e,t){var n=e.width,i=e.height,r=t.findIndex((function(e){var t=e.value||{},r=t.width,o=t.height;return r===n&&o===i}));return r<0&&(r=t.findIndex((function(e){var t=e.value||{},r=t.width,o=t.height;return r===i&&o===n}))),r}function fe(e,t){return ge.apply(this,arguments)}function ge(){return(ge=a()(c.a.mark((function e(t,n){var i,r,o,a,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.dcs,r=n.page,o=r.options,i.multipleHandleFn&&(a=o.file.blobList,i.hideLoading("handle multiple image"),i.emit("blurPage"),i.stop(),i.multipleHandleFn(a,{page:r,dcs:i}),s=document.querySelector(".dcs-btn-multipleImg"),l=s.querySelector(".previewImg"),mt.revokeObjectURL(l.src),l.src=L,l.onload=null,l.onerror=null);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=a()(c.a.mark((function e(t,n){var i,r,o,a,s,l,u,d,h,A,p,f,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.options).isFilterPage){e.next=6;break}return e.next=4,ve(t,n,i.onSave,i.file);case 4:e.next=53;break;case 6:if(n.showLoading("save button click"),r=i.file,o=i.onSave,a=n.config,s=(void 0===a?{}:a).filterViewer,l=void 0===s?{}:s,e.prev=10,u=t.getOriBlob(),d=t.getAngle(),!r.isFull||0!=d){e.next=26;break}return e.next=16,Ve(u);case 16:if(h=e.sent,!l.visibility){e.next=21;break}n.showFilterPage({blob:u,iImageData:h,angle:0,onSave:o,file:r}),e.next=24;break;case 21:return t.options.iImageData=h,e.next=24,ve(t,n,i.onSave,i.file);case 24:e.next=49;break;case 26:return r.detectArea=t.getDetectAreaForNotRotate(),e.next=29,Ve(u);case 29:return A=e.sent,e.next=32,Se(A,0,r.detectArea);case 32:return p=e.sent,e.next=35,He(p);case 35:if(f=e.sent,!l.visibility){e.next=40;break}n.showFilterPage({blob:f,iImageData:p,angle:d,onSave:o,file:r}),e.next=49;break;case 40:if("original"==l.filter.defaultValue){e.next=45;break}return e.next=43,qe(p,f,n.filterHandleList,l.filter.valueList,l.filter.defaultValue);case 43:(g=e.sent)&&(f=g);case 45:return t.options.blob=f,t.options.iImageData=p,e.next=49,ve(t,n,i.onSave,i.file);case 49:return e.prev=49,n.hideLoading("save button click"),ft(n),e.finish(49);case 53:case"end":return e.stop()}}),e,null,[[10,,49,53]])})))).apply(this,arguments)}function ve(e,t,n,i){return be.apply(this,arguments)}function be(){return(be=a()(c.a.mark((function e(t,n,i,r){var o,a,s,l,u,d,h,A,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.showLoading("save filter page"),o=t.options.blob,a=t.options.iImageData,e.prev=3,s=t.options.file.filterValue,l=t.getAngle(),u=r.oriAngle,l!=(void 0===u?0:u)||0!=l||"original"!=s){e.next=12;break}return e.next=10,tt(n,o,i,r);case 10:e.next=31;break;case 12:if(r.angle=l,0==l){e.next=20;break}return e.next=16,Ge(a,l);case 16:return a=e.sent,e.next=19,He(a);case 19:o=e.sent;case 20:if(d=I(n.config,"filterViewer.filter"),h=d.valueList,!((A=n.filterHandleList).length>0)){e.next=29;break}if("original"==s){e.next=29;break}return e.next=27,qe(a,o,A,h,s);case 27:(p=e.sent)&&(o=p);case 29:return e.next=31,tt(n,o,i,r);case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(3),D(e.t0);case 36:if(e.prev=36,o=null,a=null,n.hideLoading("save filter page"),ft(n),!n.config.filterViewer.exitDocumentScanAfterSave){e.next=48;break}n.emit("video-closed"),n.captureLoop&&n.captureLoop.setIsLooping(!1),n.emit("focusPage"),n.navigateBack(3),e.next=63;break;case 48:if(n.showLoading("play camera"),"playing"!=(f=n.getStatus())){e.next=53;break}e.next=60;break;case 53:if("paused"!=f){e.next=57;break}n.hidden()||n.resume(),e.next=60;break;case 57:if(n.hidden()){e.next=60;break}return e.next=60,n.play();case 60:n.hidden()||n.emit("resetResolution"),n.hideLoading("play camera"),n.emit("focusPage");case 63:return e.finish(36);case 64:case"end":return e.stop()}}),e,null,[[3,33,36,64]])})))).apply(this,arguments)}var we=function(e){function t(t){var n=e.getCurrentPage(),i=n.imageEl,r=n.options.detectArea,o=i.naturalWidth,a=i.naturalHeight;y([].concat(r),o,a)&&t.classList.add("dcs-selected")}return{icon:"dcs-font dcs-i-fullCrop",className:"dcs-btn-toggleFullArea",onclick:function(e,t){var n=t.page,i=(t.dcs,n.toggleFullAreaButton()),r=null==e?void 0:e.currentTarget;r&&r.classList[i?"remove":"add"]("dcs-selected")},onmount:function(n){var i=e.getCurrentPage();i.imageEl.addEventListener("load",(function(){t(n)})),t(n),i.getCropManage().onAreaChanged=function(e){var t=i.isAreaFulfilled(e);i.options.file.isFull=t,n&&n.classList[t?"add":"remove"]("dcs-selected")}}}},xe=function(e){return{icon:"dcs-font dcs-i-filter",className:"dcs-btn-filterBtn",onclick:function(t,n){var i=n.page;if(t){var r=t.target;r&&(t.stopPropagation(),function(e,t,n){ye.apply(this,arguments)}(r,e,i))}}}},Ee=null;function ye(){return(ye=a()(c.a.mark((function e(t,n,i){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.querySelector(".dcs-filterDropDown")){e.next=9;break}return e.next=4,Ce(n,i);case 4:return(o=e.sent).dataset.showDropdown="true",t.appendChild(o),Be(n,r),e.abrupt("return");case 9:if("true"!==r.dataset.showDropdown){e.next=11;break}return e.abrupt("return");case 11:Ie(r,!0),Be(n,r),r.dataset.showDropdown="true",i.render();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){e.addGlobalClickEvent(t,(function(e){var t=document.querySelector(".dcs-filterDropDown");return!(!t||"true"!==t.dataset.showDropdown||(t.classList.add("dcs-display-none"),t.dataset.showDropdown="false",0))}))}function Ie(e,t){e.classList[t?"remove":"add"]("dcs-display-none"),t&&Ee&&(e.scrollLeft=Ee.offsetLeft)}function Ce(e,t){return _e.apply(this,arguments)}function _e(){return(_e=a()(c.a.mark((function e(t,n){var i,r,o,s,l,u,d,h,A,p,f,g,m,v,b,w,x,E,y,B,C;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.showLoading("create filter list"),(i=document.createElement("ul")).className="dcs-filterDropDown dropdown",e.prev=3,r=t.config,o=t.filterHandleList,s=void 0===o?[]:o,l=I(r,"filterViewer.filter"),u=l.valueList,d=n.options,h=n.getAngle(),A=l.defaultValue,u.find((function(e){return"original"===e.value}))||u.unshift({value:"original",label:"original"}),p=d.blob,!(f=d.iImageData)){e.next=24;break}return e.next=17,Oe(f,0);case 17:return g=e.sent,e.next=20,He(g);case 20:m=e.sent,f=null,e.next=31;break;case 24:return e.next=27,je(p,0);case 27:return m=e.sent,e.next=30,Ve(m);case 30:g=e.sent;case 31:u.some((function(e){return e.value===A}))||(A="original"),v=document.createDocumentFragment(),b=0;case 34:if(!(b<u.length)){e.next=48;break}if(w=u[b],x=w.value,E=w.label,y=void 0,"original"!==x){e.next=41;break}y=p,e.next=44;break;case 41:return e.next=43,qe(g,p,s,u,x);case 43:y=e.sent;case 44:y&&(B=document.createElement("li"),C={value:x,url:mt.createURL(y),label:E},B.innerHTML='<img class="preFilter" src="'+C.url+'" style="transform:rotate('+h+'deg)"><p>'+C.label+"</p>",v.appendChild(B),B.dataset.filterValue=C.value,C.value===A&&(B.classList.add("selectedItem"),Ee=B));case 45:b++,e.next=34;break;case 48:g=null,i.appendChild(v),v=null,i.addEventListener("click",function(){var e=a()(c.a.mark((function e(i){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:De(i,{dcs:t,page:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 52:return e.prev=52,t.hideLoading("create filter list"),e.finish(52);case 55:return e.abrupt("return",i);case 56:case"end":return e.stop()}}),e,null,[[3,,52,55]])})))).apply(this,arguments)}function De(e,t){return Le.apply(this,arguments)}function Le(){return(Le=a()(c.a.mark((function e(t,n){var i,r,o,a,s,l,u,d,h,A;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.dcs,r=n.page,t.stopPropagation(),(o=t.target)!==Ee&&"LI"===o.tagName){e.next=5;break}return e.abrupt("return");case 5:if(Ee&&Ee.classList.remove("selectedItem"),Ee=o,o.classList.add("selectedItem"),a=I(i.config,"filterViewer.filter"),s=a.valueList,(l=i.filterHandleList).length){e.next=13;break}return e.abrupt("return");case 13:if(u=r.options,d=u.blob,"original"!==(h=o.dataset.filterValue)){e.next=20;break}return r.options.file.filterValue=h,r.updateImage(d),e.abrupt("return");case 20:return i.showLoading("filter button click"),e.prev=21,e.next=24,Xe(i,d,l,s,h);case 24:(A=e.sent)&&(r.options.file.filterValue=h,r.updateImage(A));case 26:return e.prev=26,i.hideLoading("filter button click"),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[21,,26,29]])})))).apply(this,arguments)}var ke=function(){function e(e){this._updateData(e)}return e.prototype._updateData=function(e){var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))},e}(),Me=["blobList"];function Pe(e){e&&!e.isDestroyed&&e.destroy()}function Re(){return(Re=a()(c.a.mark((function e(t){var n,i,r,o,a,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return document.body.classList.remove("dcs-overflowHidden"),e.abrupt("return");case 3:if(!t||!t.element){e.next=33;break}if(n=t._dcs.config.element,i=t.container||n){e.next=20;break}if(document.body.appendChild(t.element),document.body.classList.add("dcs-overflowHidden"),t.element.classList.add("dcs-fixed-full"),t.container=document.body,!(t.options.file&&!t.options.file.filterValue||t.options.file.filterValue&&"original"==t.options.file.filterValue)){e.next=15;break}null===(r=(o=t).render)||void 0===r||r.call(o),e.next=19;break;case 15:return e.next=17,Xe(t._dcs,t.options.blob,t._dcs.filterHandleList,t._dcs.config.filterViewer.filter.valueList,t.options.file.filterValue);case 17:(a=e.sent)&&t.updateImage(a);case 19:return e.abrupt("return");case 20:if(v(i)&&(i=document.getElementById(i)),!i){e.next=33;break}if("static"===window.getComputedStyle(i).position&&i.classList.add("dcs-relative"),i.appendChild(t.element),t.container=i,!(t.options.file&&!t.options.file.filterValue||t.options.file.filterValue&&"original"==t.options.file.filterValue)){e.next=29;break}null===(s=(l=t).render)||void 0===s||s.call(l),e.next=33;break;case 29:return e.next=31,Xe(t._dcs,t.options.blob,t._dcs.filterHandleList,t._dcs.config.filterViewer.filter.valueList,t.options.file.filterValue);case 31:(u=e.sent)&&t.updateImage(u);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e,t,n){return Qe.apply(this,arguments)}function Qe(){return(Qe=a()(c.a.mark((function e(t,n,i){var r,o,a,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!1,i&&(r=ut(i),o=y(r,t.imageWidth,t.imageHeight)),s=!1,l={quality:85,returnType:f.Enum_ImageType.IT_BGRA,returnBlob:!1},o||!i||(a={points:r},s=!0),e.abrupt("return",At(t,n,a,s,l,!1).then((function(e){return t.imageData=e.src,e.result})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){var t=e.config,n=I(void 0===t?{}:t,"filterViewer.filter"),i=n.defaultValue,r=void 0===i?"original":i,o=n.valueList;return"original"!==r&&o.some((function(e){return e.value===r}))?r:"original"}function Fe(e,t,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=a()(c.a.mark((function e(t,n,i){var r,o,a,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("original"!==(r=Te(t))){e.next=3;break}return e.abrupt("return",{filterValue:r,filterBlob:i});case 3:return o=t.config,a=I(void 0===o?{}:o,"filterViewer.filter"),s=a.valueList,e.next=8,qe(n,i,t.filterHandleList,s,r);case 8:return l=e.sent,e.abrupt("return",{filterValue:r,filterBlob:l});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t,n,i,r,o){return Ye.apply(this,arguments)}function Ye(){return(Ye=a()(c.a.mark((function e(t,n,i,r,o,a){var s,l,u,d,h,A,p,f,g,m,v,b,w,x,E,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),!a){e.next=14;break}if(!o){e.next=11;break}return e.next=7,_(t);case 7:l=e.sent,s=new ke({oriBlob:a,preview:l}),e.next=12;break;case 11:s=new ke({oriBlob:a});case 12:e.next=20;break;case 14:return o||(u=!1),e.next=17,At(t,void 0,void 0,void 0,void 0,u);case 17:d=e.sent,t.imageData=d.src,s=new ke(o?{oriBlob:d.result,preview:d.preview}:{oriBlob:d.result});case 20:if(h=I(n,"config.scannerViewer"),A=h.enableBorderDetection,p=void 0===A||A,f=t.imageWidth,g=t.imageHeight,!p){e.next=39;break}return e.next=25,We(t,!0,n);case 25:if(m=e.sent,v=dt(v=ut(m.cornerPoints),f,g),s.detectArea=v,!r&&!i){e.next=37;break}return e.next=32,Se(t,void 0,s.detectArea);case 32:return b=e.sent,e.next=35,He(b);case 35:w=e.sent,i&&(s.resImage=b,s.resBlob=w);case 37:e.next=42;break;case 39:s.detectArea=[0,0,f,0,f,g,0,g],r&&(b=t,w=s.oriBlob),i&&(s.resImage=t,s.resBlob=s.oriBlob);case 42:if(!r){e.next=50;break}return e.next=45,Fe(n,b,w);case 45:x=e.sent,E=x.filterValue,y=x.filterBlob,s.filterValue=E,s.filterBlob=y;case 50:return b=null,w=null,e.abrupt("return",s);case 53:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(e){return D("blobToImageData createObjectURL"),At(e,void 0,void 0,void 0,{quality:85,returnType:f.Enum_ImageType.IT_BGRA,returnBlob:!1},!1).then((function(e){return e.result}))}function He(e){D("blobToImageData createObjectURL");var t={quality:85,returnType:f.Enum_ImageType.IT_JPG,returnBlob:!0};return At(e,void 0,void 0,void 0,t,!1).then((function(t){return e.imageData=t.src,t.result}))}function Ge(e,t){D("blobToImageData createObjectURL");var n={quality:85,returnType:f.Enum_ImageType.IT_BGRA,returnBlob:!1};return At(e,t,void 0,void 0,n,!1).then((function(t){return e.imageData=t.src,t.result}))}function je(e,t){return At(e,t,void 0,void 0,!1,void 0).then((function(e){return e.preview}))}function Oe(e,t){var n={quality:85,returnType:f.Enum_ImageType.IT_BGRA,returnBlob:!1};return At(e,t,void 0,void 0,n,void 0).then((function(t){return e.imageData=t.src,t.preview}))}function Je(e,t,n){return ze.apply(this,arguments)}function ze(){return(ze=a()(c.a.mark((function e(t,n,i){var r,o,a,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.querySelector(".dcs-btn-multipleImg")){e.next=4;break}return gt.log("cannot find the div .dcs-btn-multipleImg"),e.abrupt("return");case 4:if(r.querySelector(".imgCount").innerText=String(n.length),o=n[n.length-1],D("handleMultipleImg createObjectURL"),!o.preview){e.next=11;break}e.next=18;break;case 11:return e.next=13,Ve(o.oriBlob);case 13:return a=e.sent,e.next=16,st(t,null,a,!1,!1);case 16:s=e.sent,o.preview=s.preview;case 18:return e.next=20,new Promise((function(e,t){var n=r.querySelector(".previewImg"),i=n.src;n.src=mt.createURL(o.preview),n.onload=function(){n.onload=null,i&&mt.revokeObjectURL(i),e(!0)},n.onerror=function(e){t(e)}}));case 20:l=document.querySelector(".dcs-btn-continuousMode"),r.classList.remove("dcs-hidden"),null==l||l.classList.add("dcs-selected");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t,n){return Ze.apply(this,arguments)}function Ze(){return(Ze=a()(c.a.mark((function e(t,n,i){var r,o,a,s,l,d,h,A,p,f,g,m,v,b,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.imageWidth,o=t.imageHeight,a=i.config.scannerViewer||{},s=a.autoDetect,d=(l=void 0===s?{}:s).acceptedPolygonConfidence,h=void 0===d?80:d,A=l.acceptedBlurryScore,p=void 0===A?80:A,i.areaDetectFn){e.next=6;break}return x({message:"The detect function is not bind.",code:-4290}),e.abrupt("return",{cornerPoints:[],detectedArea:!1});case 6:return e.next=8,i.areaDetectFn(t,h,p,void 0,void 0,n);case 8:return f=e.sent,t.imageData=f.src,g=f.confidence,m=void 0===g?[0]:g,v=f.blurryScore,b=void 0===v?0:v,w=f.cornerPoints,u.emit("documentDetected",f),m[0]<h/100||b<p||w.every((function(e){return 0===e}))?(f.detectedArea=!1,f.cornerPoints=[0,0,r,0,r,o,0,o]):f.detectedArea=!0,e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e,t,n,i,r){return Ke.apply(this,arguments)}function Ke(){return(Ke=a()(c.a.mark((function e(t,n,i,r,o){var a,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("original"!==o){e.next=2;break}return e.abrupt("return",n);case 2:if(a=i.find((function(e){return e.label===o})),s=r.find((function(e){return e.value===o})),a&&a.handler&&s){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,Ve(n);case 8:return l=e.sent,e.next=11,a.handler(l,s.option);case 11:return u=e.sent,e.abrupt("return",u.result);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t,n,i,r){return $e.apply(this,arguments)}function $e(){return($e=a()(c.a.mark((function e(t,n,i,r,o){var a,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("original"!==o){e.next=2;break}return e.abrupt("return",n);case 2:if(a=i.find((function(e){return e.label===o})),s=r.find((function(e){return e.value===o})),a&&a.handler&&s){e.next=6;break}return e.abrupt("return",n);case 6:return e.next=8,a.handler(t,s.option);case 8:return l=e.sent,t.imageData=l.src,e.abrupt("return",l.result);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e){var t=e||{},n=t.iconCss,i=t.visibility,r={};return n&&(r.icon=n),!1===i&&(r.visibility=!1),r}function tt(e,t,n,i){return nt.apply(this,arguments)}function nt(){return(nt=a()(c.a.mark((function e(t,n,i,o){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=8;break}return o.blobList,a=V()(o,Me),e.next=4,Promise.resolve(i([{iImageData:n,file:r()({},a)}]));case 4:!1!==e.sent&&t.redirectToHome(),e.next=9;break;case 8:t.redirectToHome();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t){return rt.apply(this,arguments)}function rt(){return(rt=a()(c.a.mark((function e(t,n){var i,r,o,a,s,l,d,h,A,p,f,g,m,v,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getCurrentPage(),r=i.options,o=r.continuous,a=r.file,0!=n.length){e.next=4;break}return e.abrupt("return");case 4:if(o||1!=n.length){e.next=13;break}return s=n[0],e.next=8,Ve(s);case 8:return l=e.sent,e.next=11,ot(t,l,!1,null,s);case 11:e.next=24;break;case 13:if(a.blobList=a.blobList||[],r.continuous=!0,d=t.config.scannerViewer||{},h=d.maxDocuments,A=void 0===h?20:h,p=d.maxImagesInBuffer,f=void 0===p?A:p,g=!0,(a.blobList.length+n.length>f||a.blobList.length+n.length>A)&&(u.emit("video-error",te),g=!1),m=[],g)m=n.map((function(e){return new ke({oriBlob:e})}));else for(v=0;v<f-a.blobList.length;v++)m.push(new ke({oriBlob:n[v]}));if(!(m.length>0)){e.next=24;break}return(b=a.blobList).push.apply(b,m),e.next=24,Je(t,a.blobList,!0);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t,n,i,r){return at.apply(this,arguments)}function at(){return(at=a()(c.a.mark((function e(t,n,i,o,a){var s,l,d,h,A,p,f,g,m,v,b,w,x,E,y,B,C,_,D,L,k,M,P,R,S,Q,T,F,N,U,Y,V,H,G;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.getCurrentPage(),l=s.options,d=l.continuous,h=l.onSave,A=I(t,"config.cropViewer"),p=A.rotateLeft,f=A.rotateRight,g=A.autoDetectBorder,m=void 0===g?{}:g,v=A.apply,b=A.visibility,w=void 0===b||b,x=n,E=l.file,y=t.config,B=(void 0===y?{}:y).filterViewer,C=void 0===B?{}:B,d){e.next=52;break}return gt.log("not continuous mode."),e.next=11,t.stop();case 11:if(!w){e.next=27;break}return gt.log("get BlobItem no filter+noPerspective+no preview"),e.next=15,Ue(x,t,!1,!1,!1,a);case 15:return _=e.sent,D=_.detectArea,L=_.oriBlob,i&&t.setImageDataBack(x.imageData),E.bAdd=!0,E.oriBlob=L,E.detectArea=D,E.angle=0,gt.log("show edit page"),k="dcs-font dcs-i-next",C.visibility||(k="dcs-font dcs-i-save"),t.showEditPage({blob:L,detectArea:D,angle:0,continuous:d,onSave:h,footerButtons:{rotateLeft:et(p),rotateRight:et(f),toggleFullArea:et(m),save:r()({icon:k},et(v))},file:E}),e.abrupt("return");case 27:return gt.log("get BlobItem filter+Perspective+no preview"),e.next=30,Ue(x,t,!0,!0,!1,a);case 30:if(M=e.sent,i&&(t.setImageDataBack(x.imageData),delete x.imageData),P=M.filterBlob,R=M.resBlob,S=M.detectArea,Q=M.oriBlob,(T=M.resImage)&&delete M.resImage,Q&&delete M.oriBlob,P&&delete M.filterBlob,R&&delete M.resBlob,E.bAdd=!0,E.oriBlob=Q,E.detectArea=S,E.angle=0,!1!==C.visibility){e.next=48;break}return e.next=45,tt(t,P||R,l.onSave,E);case 45:return t.captureLoop&&t.captureLoop.setIsLooping(!1),t.emit("focusPage"),e.abrupt("return");case 48:gt.log("show filter page"),t.showFilterPage({angle:0,blob:P||R,iImageData:T,file:E,onSave:l.onSave}),e.next=68;break;case 52:if(E.blobList=E.blobList||[],gt.log("continuous mode."),l.continuous=!0,F=t.config.scannerViewer||{},N=F.maxDocuments,U=void 0===N?20:N,Y=F.maxImagesInBuffer,V=void 0===Y?U:Y,!(E.blobList.length+1>V||E.blobList.length+1>U)){e.next=61;break}return gt.log("maxImagesInBuffer."),u.emit("video-error",te),(t.config.scannerViewer.autoScan.enableAutoScan||t.config.scannerViewer.autoDetect.enableAutoDetect)&&(H=t.captureLoop.getLoopType(),t.captureLoop.stopCaptureLoop(),t.captureLoop.changeStyle(),t.captureLoop._setLoopType(H),t.captureLoop.setDisable()),e.abrupt("return");case 61:return e.next=63,st(t,o,x,i,!0);case 63:return G=e.sent,E.blobList.push(G),gt.log("start multiple image viewer."),e.next=68,Je(t,E.blobList,!1);case 68:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t,n,i,r){return ct.apply(this,arguments)}function ct(){return(ct=a()(c.a.mark((function e(t,n,i,r,o){var a,s,l,u,d,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gt.log("package to BlobItem"),t.config.scannerViewer.enableBorderDetection){e.next=5;break}a={},e.next=12;break;case 5:if(!n){e.next=9;break}a=n,e.next=12;break;case 9:return e.next=11,We(i,!0,t);case 11:a=e.sent;case 12:return s=a.cornerPoints,l=I(t,"config.scannerViewer"),u=l.polygonStyle,d=void 0===u?{stroke:"#fe8e14",strokeWidth:"2px",dashed:"solid"}:u,gt.log("get detected preview"),e.next=18,ht(i,s,d,o);case 18:return h=e.sent,gt.log("get detected preview ok"),r&&(t.setImageDataBack(i.imageData),delete i.imageData),e.abrupt("return",new ke({oriBlob:h.result,preview:h.preview,detectArea:s}));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e){if(!e)return[];for(var t=0;t<e.length;t++)e[t]=Math.fround(e[t]);return e}function ut(e){var t={value:Number.MAX_VALUE,idx:-1},n={value:Number.MAX_VALUE,idx:-1};if(!e)return[];for(var i=0;i<e.length;i+=2){var r=e[i];r<=t.value?(n=t,t={value:r,idx:i}):r<=n.value&&(n={value:r,idx:i})}var o=e[t.idx+1]<e[n.idx+1]?t.idx:n.idx;return e.slice(o).concat(e.slice(0,o))}function dt(e,t,n){return e.map((function(e,i){if(i%2==0){var r=e;return r=Math.max(0,r),Math.min(r,t)}var o=e;return o=Math.max(0,o),Math.min(o,n)}))}function ht(e,t,n,i){var r,o="fe8e14";return n&&v(n.stroke)&&0==n.stroke.indexOf("#")&&(o=n.stroke.substr(1)),t&&(r={points:ut(t),lineWidth:5,strokeColor:o}),At(e,void 0,r,!1,i,!0).then((function(t){return e.imageData=t.src,t}))}function At(e,t,n,i,r,o){var a=void 0,s={polygon:a,doPerspective:a,source:{angle:a},output:{orgImage:a,previewImage:a}};return w(e,s.source),s.source.angle=t,n&&(s.polygon=n),i&&n&&n.points&&(s.doPerspective=!0),!1!==r&&(s.output.orgImage=r instanceof Object?r:{quality:85,returnType:f.Enum_ImageType.IT_JPG,returnBlob:!0}),!1!==o&&(s.output.previewImage=o instanceof Object?o:{quality:85,width:200,height:200,returnType:f.Enum_ImageType.IT_JPG,returnBlob:!0,nInterplationMethod:5}),f.ImageProcWrapper.createImage(s)}function pt(e){var t=e%360;return t<0&&(t+=360),t}function ft(e){var t=document.querySelectorAll(".preFilter");if(t)for(var n=0;n<t.length;n++){var i=t[n];i&&"IMG"==i.tagName&&i.src&&(mt.revokeObjectURL(i.src),i.onload=null,i.parentNode.remove())}var r=document.querySelector(".dcs-filterDropDown");r&&(e.removeGlobalClickEvent(r),r.remove())}var gt={log:function(e,t,n,i){var r;null!=f&&null!==(r=f.Lib)&&void 0!==r&&r.debug}},mt={windowURL:window.URL||window.webkitURL,createURL:function(e){return v(e)?e:function(e){if(v(e)||void 0===e)return{type:"string",data:e};if(e instanceof Blob)return{type:"object",data:mt.createObjectURL(e)};if(e.imageData&&e.imageData instanceof Blob)return{type:"object",data:mt.createObjectURL(e.imageData)};if(e.imageData){var t=Object.prototype.toString.call(e.imageData);if(/\[object \w+Array\]/.test(t))return{type:"object",data:mt.createObjectURL(new Blob([e.imageData]))}}else{var n=Object.prototype.toString.call(e);if(/\[object \w+Array\]/.test(n))return{type:"object",data:mt.createObjectURL(new Blob([e]))}}return/data:image\/\w+;base64/.test(e)?{type:"string",data:e}:(gt.log("createURLWithType object:"+e),{type:"object",data:e})}(e).data},createObjectURL:function(e){if(!e)return"";var t=mt.windowURL.createObjectURL(e);return D("createObjectURL:"+t),t},revokeObjectURL:function(e){D("revokeObjectURL:"+e),v(e)&&0==e.indexOf("blob:http")&&mt.windowURL.revokeObjectURL(e)}},vt=function(){function e(e,t){this.element=null,this.closeButton=null,this.headerButtons=[],this.footerButtons=[],this.className="",this.pageName="",this.container=null,this.template="",this.lastPage=null,this.nextPage=null,this.isDestroyed=!1,this._dcs=null,this._pagepubsub=new l,this.options=e,this._dcs=t,t.config=t.config||{},t.config.scannerViewer=t.config.scannerViewer||{},t.config.scannerViewer.autoDetect=t.config.scannerViewer.autoDetect||{enableAutoDetect:!1},t.config.scannerViewer.autoScan=t.config.scannerViewer.autoScan||{enableAutoScan:!1},null==t.config.scannerViewer.autoDetect.enableAutoDetect&&(t.config.scannerViewer.autoDetect.enableAutoDetect=!1),null==t.config.scannerViewer.autoScan.enableAutoScan&&(t.config.scannerViewer.autoScan.enableAutoScan=!1)}var t=e.prototype;return t.createEl=function(e){if(e.customEl)this.element=e.customEl;else{var t={dcs:this._dcs,page:this};if(this.headerButtons=bt(e.headerButtons,t),this.footerButtons=bt(e.footerButtons,t),!e.customEl){var n=this.template,i=document.createElement("div");i.innerHTML=n,i.className=this.className,this.element=i;var r=this.element,o=this.headerButtons,a=this.footerButtons,s=r.querySelector("header");this.insertButtons(s,o);var c=r.querySelector("footer");this.insertButtons(c,a)}}},t.insertButtons=function(e,t){var n,i;e.appendChild((n=t,i=document.createDocumentFragment(),n.forEach((function(e){i.appendChild(e.element)})),i))},t.destroy=function(){wt(this.headerButtons),wt(this.footerButtons),this.headerButtons=[],this.footerButtons=[],this.element&&(this.element.remove(),this.element=null),this.isDestroyed=!0,"homePage"==this.pageName&&(ft(this._dcs),u.emit("video-closed")),this._dcs=null},t.updateButton=function(e,t){for(var n=[].concat(this.headerButtons,this.footerButtons),i=0;i<n.length;i++){var r=n[i];if(r.name===e)return w(t,r.options),void r.update()}},t.on=function(e,t){this._pagepubsub.on(e,t)},t.once=function(e,t){this._pagepubsub.once(e,t)},t.off=function(e,t){this._pagepubsub.off(e,t)},t.emit=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=this._pagepubsub).emit.apply(t,[e].concat(i))},t.emitEx=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(t=this._pagepubsub).emitEx.apply(t,[e].concat(i))},e}();function bt(e,t){var n=[];for(var i in e)e[i]&&n.push(new N(r()({},e[i],{name:i}),t));return n}function wt(e){e.forEach((function(t,n){t.destroy(),e[n]=null}))}var xt=n(2),Et=n.n(xt),yt=n(6),Bt=(Et()(yt.a,{insert:"head",singleton:!1}),yt.a.locals,function(e){function t(t,n){var i;if((i=e.call(this,t,n)||this).cropMng=null,i._resizeMng=null,i._oldDetectAreaInfo={area:[],w:0,h:0,angle:0},i._firstRender=!0,i.pageName="edit",i._angle=pt(i.options.angle),i._initElement(t),t.isFilterPage&&(i.options.file.filterValue=Te(n)),!i.cropMng)return h()(i);var r=n.config.cropViewer,o=(void 0===r?{}:r).polygonStyle;return o&&i.cropMng.setCropStyle({lineColor:o.stroke,lineWidth:parseInt(o.strokeWidth,10),cornerColor:o.stroke,lineDash:o.dash}),i}p()(t,e);var n=t.prototype;return n.getOriBlob=function(){return this.options.file.oriBlob},n._initElement=function(e){var t='\n        <header class="headerButtons"></header>\n        <div class="resultContainer">\n            <div class="dcs-cvsContainer">\n                <img class="cameraEditImage">\n                </div>\n            '+(e.detectArea?"<canvas class='dcs-detectCvs'></canvas>":"")+'\n        </div>\n        <footer class="footerButtons"></footer>\n        ';this.template=t,this.className="dcs-cameraEditPage",this.createEl(e),e.customEl||(this._listenResize(),this._initCanvas(),e.detectArea&&(this.detectArea=[].concat(e.detectArea)),e.isFilterPage||this._initCropManage())},n._initCanvas=function(){var e=this.element,t=e.querySelector(".dcs-cvsContainer");this.imageElContainer=t;var n=t.children;this.imageEl=n[0],this.detectCvsEl=e.querySelector(".dcs-detectCvs")},n._listenResize=function(){var e=this;this._resizeMng=new F(this.element,(function(){setTimeout((function(){e._updateImgCvs(),e.renderForRotate(0)}),0)}))},n.rotateLeft=function(){this._rotate(-90)},n.rotateRight=function(){this._rotate(90)},n._rotate=function(e){this._angle+=e,this.renderForRotate(e)},n.getAngle=function(){return b(this._angle)?pt(this._angle):(this._angle=0,0)},n.renderImage=function(){this._drawImage();var e=document.querySelectorAll(".preFilter");if(e)for(var t=0;t<e.length;t++){var n=e[t];n&&"IMG"==n.tagName&&n.src&&(n.style.transform="rotate("+this._angle+"deg)")}},n.render=function(){if(this._firstRender){var e=this.options.blob;this.updateImage(e)}else this.renderImage(),this._drawDetectArea()},n.renderForRotate=function(e){this.renderImage(),this._drawDetectAreaForRotate(e)},n.destroy=function(){var t,n,i,r;ft(this._dcs),e.prototype.destroy.call(this),this._resizeMng.dispose(),this._resizeMng=null,null===(t=this.cropMng)||void 0===t||t.dispose(),null===(n=this.detectCvsEl)||void 0===n||n.remove(),this.cropMng=null,this.detectCvsEl=null,null!==(i=this.imageEl)&&void 0!==i&&i.src&&mt.revokeObjectURL(this.imageEl.src),null===(r=this.imageEl)||void 0===r||r.removeEventListener("load",null),this.imageElContainer=null,this.imageEl=null;var o=this.options;if(o){var a=o.file;a&&(delete a.resBlob,delete a.blob,delete a.preview),delete o.blob,delete o.iImageData}this.options=null},n.updateImage=function(e){if(e){var t=mt.createURL(e),n=this.imageEl,i=n;if(i.setAttribute("crossOrigin","anonymous"),i.src!==t){n&&n.src&&n.src.indexOf("blob")>-1&&mt.revokeObjectURL(n.src),i.src=t;var r=this;i.onload=function(){r._firstRender=!1,i.onload=null,r.render()}}}},n._updateImgCvs=function(){this.imageEl;var e=this.detectCvsEl;if(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;e.width=n,e.height=i}},n._calImageArea=function(){var e=this.imageEl,t=this.imageElContainer.getBoundingClientRect(),n=t.width,i=t.height,r=function(e,t,n,i,r){var o,a;r%180==0?(o=n,a=i):(o=i,a=n);var s=Math.min(o/e,a/t),c=Math.fround(s*e),l=Math.fround(s*t),u=Math.floor((o-c)/2),d=Math.floor((a-l)/2),h=r%180==0;return{left:u,top:d,width:c,height:l,relLeft:h?u:d,relTop:h?d:u,relWidth:h?c:l,relHeight:h?l:c}}(e.naturalWidth,e.naturalHeight,n,i,this.getAngle());return this._imageArea=r,r},n._drawImage=function(){var e=this.imageEl;if(e){var t=this._calImageArea();e.width=t.width,e.height=t.height,e.style.position="absolute",this.getAngle()%180!=0&&(t.relLeft+=t.height/2-t.width/2,t.relTop+=t.width/2-t.height/2),e.style.left=t.relLeft+"px",e.style.top=t.relTop+"px";var n=this.getAngle();e.style.transform="rotate("+n+"deg)"}},n._initCropManage=function(){if(!this.cropMng){var e=this.detectCvsEl;e&&(this.cropMng=new T(e),this.cropMng.setCropMode(!0))}},n._drawDetectArea=function(){if(this._setDetectCanvasSize(),this.cropMng&&(this.cropMng.resize(this._imageArea),this.detectArea)){var e=this.cropMng._zoom,t=It(this.detectArea.slice(),this._angle,Math.fround(this._imageArea.relWidth*e),Math.fround(this._imageArea.relHeight*e));this.cropMng.setCropArea(t,this._imageArea)}},n._drawDetectAreaForRotate=function(e){var t;if(this.cropMng&&(t=this.cropMng.getCropArea()),this._setDetectCanvasSize(),this.cropMng){this.cropMng.resize(this._imageArea);var n=this.cropMng._zoom,i=It(t,e,Math.fround(this._imageArea.relWidth*n),Math.fround(this._imageArea.relHeight*n));this.cropMng.setCropArea(i,this._imageArea)}},n._setDetectCanvasSize=function(){var e=this.imageEl;if(e){var t=this._calImageArea(),n=(t.relLeft,t.relTop,t.relWidth),i=(t.relHeight,e.naturalWidth),r=e.naturalHeight,o=this._angle%180==0,a=this.imageElContainer.parentElement.getBoundingClientRect(),s=a.width,c=a.height;this._updateDetectCvsSize(0,0,s,c);var l=(o?i:r)/n;l<=0&&(l=1),this.cropMng&&this.cropMng.setZoom(l)}},n._updateDetectCvsSize=function(e,t,n,i){var r=this.detectCvsEl;r&&(r.width=n,r.height=i,r.style.cssText="left:"+e+"px;top:"+t+"px;width:"+n+"px;height:"+i+"px")},n.getCropManage=function(){return this.cropMng},n.getDetectAreaForNotRotate=function(){if(!this.cropMng)return null;var e=this.cropMng.getCropArea();e=ut(e=lt(e));var t=this.cropMng._zoom;return ut(e=function(e,t,n,i){for(var r=[],o=pt(t),a=0;a<e.length;a+=2){var s=void 0,c=void 0,l=e[a],u=e[a+1];90==o?(s=u,c=n-l):180==o?(s=n-l,c=i-u):270==o?(s=i-u,c=l):(s=l,c=u),r.push(s,c)}return r}(e,this.getAngle(),Math.fround(this._imageArea.relWidth*t),Math.fround(this._imageArea.relHeight*t)))},n.isAreaFulfilled=function(e){var t=this.cropMng;if(!t)return!1;var n=this._calImageArea(),i=n.relWidth,r=n.relHeight,o=t._zoom;return y(e,Math.fround(i*o),Math.fround(r*o))},n.toggleFullAreaButton=function(){var e=this.cropMng;if(!e)return!1;var t=this._calImageArea(),n=e.getCropArea();n=ut(n=lt(n));var i,r=this.getAngle(),o=r,a=e._zoom,s=Math.fround(t.relWidth*a),c=Math.fround(t.relHeight*a),l=y(n,s,c);return l?0===this._oldDetectAreaInfo.area.length?(this._oldDetectAreaInfo={area:[0,0,s-2,0,s-2,c-2,0,c-2],angle:r,w:s,h:c},i=this._oldDetectAreaInfo.area):(i=this._oldDetectAreaInfo.area,o=this._oldDetectAreaInfo.angle):(this._oldDetectAreaInfo={area:n,angle:r,w:s,h:c},i=[0,0,s,0,s,c,0,c]),e.setCropArea(i.slice(),t),o!=r&&(gt.log("must rotate: "+(r-o)),this.renderForRotate(r-o)),this.options.file.isFull=!l,l},t}(vt));function It(e,t,n,i){for(var r=[],o=pt(t),a=0;a<e.length;a+=2){var s=void 0,c=void 0,l=e[a],u=e[a+1];90==o?(s=n-u,c=l):180==o?(s=n-l,c=i-u):270==o?(s=u,c=i-l):(s=l,c=u),r.push(s,c)}return r}var Ct=n(7),_t=(Et()(Ct.a,{insert:"head",singleton:!1}),Ct.a.locals,function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this)._initElement(t),t.pageName?i.pageName=t.pageName:i.pageName="homePage",i.attachDefaultEvent(t),i}p()(t,e);var n=t.prototype;return n.attachDefaultEvent=function(e){this.on("onSaveCapture",(function(e,t,n,i,r){var o=t.dcs;return t.page,ot(o,n,i,r)}))},n._initElement=function(e){var t='\n        <header></header>\n        <div class="videoContainer"></div>\n        <footer class="buttonList">\n            '+(e.title?'<div class="modeTitle">'+e.title+"</div>":"")+"\n        </footer>\n        ";this.template=t,this.className="dcs-cameraHomePage",this.createEl(e)},t}(vt)),Dt=n(8),Lt=(Et()(Dt.a,{insert:"head",singleton:!1}),Dt.a.locals,function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).pageName="insert",i}return p()(t,e),t.prototype.attachDefaultEvent=function(e){e.onSaveCapture&&this.on("onSaveCapture",e.onSaveCapture)},t}(_t)),kt=n(9),Mt=(Et()(kt.a,{insert:"head",singleton:!1}),kt.a.locals,document.createElement("div"));Mt.className="dcs-loading-wrapper",Mt.innerHTML='<div class="dcs-loading-content">\n<div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div>\n</div>';var Pt=Mt,Rt=n(14),St=n.n(Rt),Qt=[{width:320,height:240,type:"exact"},{width:640,height:480,type:"exact"},{width:640,height:360,type:"exact"},{width:800,height:600,type:"exact"},{width:1280,height:720,type:"exact"},{width:1920,height:1080,type:"exact"},{width:2560,height:1440,type:"exact"},{width:3840,height:2160,type:"exact"}],Tt={video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:"environment"}}};function Ft(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ut(){void 0===navigator.mediaDevices&&(location.origin.startsWith("https://")?x(G):x(H)),void 0===navigator.mediaDevices.getUserMedia&&x(j)}function Yt(){return Vt.apply(this,arguments)}function Vt(){return(Vt=a()(c.a.mark((function e(){var t,n,i,r,o,a,s,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,navigator.mediaDevices.enumerateDevices();case 3:t=e.sent,n=[],i=0,r=0;case 7:if(!(r<t.length)){e.next=24;break}if("videoinput"===(o=t[r]).kind){e.next=11;break}return e.abrupt("continue",21);case 11:a=!1,s=Ft(n);case 13:if((l=s()).done){e.next=20;break}if(l.value.deviceId!==o.deviceId){e.next=18;break}return a=!0,e.abrupt("break",20);case 18:e.next=13;break;case 20:a||((u={}).deviceId=o.deviceId,u.label=!o.label||/^camera\s[0-9]+$/.test(o.label)?"camera "+i++:o.label,n.push(u));case 21:r++,e.next=7;break;case 24:return e.abrupt("return",n);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(e,t,n,i,r,o,a,s){void 0===s&&(s=!1);var c,l,u=JSON.parse(JSON.stringify({video:{width:{ideal:1280},height:{ideal:720},facingMode:{ideal:s?"user":"environment"}}})),d="exact"===i&&!r;if(t&&(u.video.width=((c={})[d?"exact":"ideal"]=t,c)),n&&(u.video.height=((l={})[d?"exact":"ideal"]=n,l)),o&&o.bMobile&&o.bSafari&&r){var h,A=Math.max(t||1280,n||720);u.video.width=((h={})[d?"exact":"ideal"]=A,h),delete u.video.height}if(e)delete u.video.facingMode,u.video.deviceId={exact:e};else if(a&&!s){for(var p,f=["rear","back","rück","arrière","trasera","trás","traseira","posteriore","后面","後面","背面","后置","後置","背置","задней","الخلفية","후","arka","achterzijde","หลัง","baksidan","bagside","sau","bak","tylny","takakamera","belakang","אחורית","πίσω","spate","hátsó","zadní","darrere","zadná","задня","stražnja","belakang","बैक"],g=function(){var e=p.value,t=e.label.toLowerCase();if(t&&f.some((function(e){return-1!=t.indexOf(e)}))&&/\b0(\b)?/.test(t))return delete u.video.facingMode,u.video.deviceId={ideal:e.deviceId},"break"},m=Ft(a);!(p=m()).done&&"break"!==g(););!u.video.deviceId&&o.bAndroid&&o.bHarmonyOS&&(delete u.video.facingMode,u.video.deviceId={ideal:a[a.length-1].deviceId})}if(u.video.facingMode){var v=u.video.facingMode;v instanceof Array&&v.length&&(v=v[0]),"environment"===(v=v.exact||v.ideal||v)&&(u.bFmEnvironment=!!u.video.facingMode)}return u}function Gt(e,t,n,i,r,o){return jt.apply(this,arguments)}function jt(){return(jt=a()(c.a.mark((function e(t,n,i,r,o,a){var s,l,u,d,h,A,p,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},l=null,u=null,e.prev=3,d=Ht(t,n,i,r,!1,o,a),e.next=7,Ot(d,!1,o,a);case 7:if(l=e.sent){e.next=10;break}return e.abrupt("return",s);case 10:if(document&&document.createElement?u=document.createElement("video"):x(J),h="exact"===r,!o.bFirefox&&h){e.next=16;break}return u.srcObject=l,e.next=16,u.play();case 16:s.type=r,h?(A=l.getVideoTracks()[0],(p=A.getConstraints())&&p.width?(s.height=p.height.exact||p.height,s.width=p.width.exact||p.width):(f=A.getSettings(),s.height=f.height.exact||f.height,s.width=f.width.exact||f.width)):(s.height=u.videoHeight,s.width=u.videoWidth),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),this._fireLog("_getResolution exception:"+(e.t0.message||e.t0));case 23:if(!l){e.next=29;break}return o.bFirefox&&(u.srcObject=null),e.next=27,l.getTracks().forEach((function(e){e.stop()}));case 27:l=null,u=null;case 29:return e.abrupt("return",s);case 30:case"end":return e.stop()}}),e,this,[[3,20]])})))).apply(this,arguments)}function Ot(e,t,n,i){return Jt.apply(this,arguments)}function Jt(){return(Jt=a()(c.a.mark((function e(t,n,i,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"boolean"==typeof t.video&&(t.video={}),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia(t);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!e.t0.name||"OverconstrainedError"!==e.t0.name){e.next=13;break}if(!n){e.next=12;break}throw e.t0;case 12:return e.abrupt("return",null);case 13:return i&&i.bMobile&&i.bSafari?(delete t.video.width,delete t.video.height):t.bFmEnvironment?(delete t.video.facingMode,r&&r.length&&(t.video.deviceId={ideal:r[r.length-1].deviceId})):t.video=!0,e.abrupt("return",navigator.mediaDevices.getUserMedia(t));case 15:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function zt(e,t){for(var n,i=e.width,r=e.height,o=Ft(t);!(n=o()).done;){var a=n.value;if(a.height===r&&a.width===i)return!0}return!1}function Wt(e,t){for(var n,i=e.width,r=e.height,o=Ft(t);!(n=o()).done;){var a=n.value;if(a.height===r&&a.width===i)return a.type}return"ideal"}var Zt=function(){function e(e,t,n,i){this.videoSettings=Tt,this._browserInfo=null,this._isPlugOut=!1,this._resolutionSelector=null,this._cameraInfo=null,this._allCameras=null,this._videoTrack=null,this._allResolutions=[],this._curResolution=null,this._videoEle=null,this._isFill=!1,this._isUser=!1,this._useWebgl=!0,this.videoGlCvs=null,this.videoGl=null,this.glImgData=null,this.glCropImgData=null,this._cameraManager=null,this._browserInfo=f.navInfo,!this._browserInfo.bMobile&&this._browserInfo.bSafari?parseInt(this._browserInfo.strBrowserVersion)>=15&&(this._useWebgl=!1):this._browserInfo.bHuaWeiBrowser&&(this._useWebgl=!1),this._cameraInfo=e||{deviceId:"",label:""},this._videoEle=t,this._allCameras=n}var t=e.prototype;return t.getFrame=function(){Date.now();var e=this._videoEle.videoWidth,t=this._videoEle.videoHeight;this.videoGlCvs||(this.videoGlCvs=globalThis.OffscreenCanvas?new globalThis.OffscreenCanvas(e,t):document.createElement("canvas"));var n=this.videoGlCvs,i=this._useWebgl,r=null;if(i&&(r=this.videoGl||n.getContext("webgl",{alpha:!1,antialias:!1,depth:!1,stencil:!1,preserveDrawingBuffer:!0})||n.getContext("experimental-webgl",{alpha:!1,antialias:!1,depth:!1,stencil:!1,preserveDrawingBuffer:!0})),r&&i||(i=!1,this.videoGlCvs=document.createElement("canvas"),n=this.videoGlCvs),n.width==e&&n.height==t||(n.height=t,n.width=e,r&&r.viewport(0,0,e,t)),i){if(!this.videoGl){this.videoGl=r;var o=r.createShader(r.VERTEX_SHADER);r.shaderSource(o,"\nattribute vec4 a_position;\nattribute vec2 a_uv;\n\nvarying vec2 v_uv;\n\nvoid main() {\ngl_Position = a_position;\nv_uv = a_uv;\n}\n"),r.compileShader(o),r.getShaderParameter(o,r.COMPILE_STATUS);var a=r.createShader(r.FRAGMENT_SHADER);r.shaderSource(a,"\nprecision lowp float;\n\nvarying vec2 v_uv;\n\nuniform sampler2D u_texture;\n\nvoid main() {\nvec4 sample =  texture2D(u_texture, v_uv);\ngl_FragColor = vec4(sample.b, sample.g, sample.r, 1.0);\n}\n"),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS);var s=r.createProgram();r.attachShader(s,o),r.attachShader(s,a),r.linkProgram(s),r.getProgramParameter(s,r.LINK_STATUS),r.useProgram(s),r.bindBuffer(r.ARRAY_BUFFER,r.createBuffer()),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,1,0,1,1,1,1,1,-1,-1,0,0,1,-1,1,0]),r.STATIC_DRAW);var c=r.getAttribLocation(s,"a_position");r.enableVertexAttribArray(c),r.vertexAttribPointer(c,2,r.FLOAT,!1,16,0);var l=r.getAttribLocation(s,"a_uv");r.enableVertexAttribArray(l),r.vertexAttribPointer(l,2,r.FLOAT,!1,16,8),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,r.createTexture()),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.uniform1i(r.getUniformLocation(s,"u_texture"),0)}(!this.glImgData||this.glImgData.length<e*t*4)&&(this.glImgData=new Uint8Array(e*t*4)),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,this._videoEle),r.drawArrays(r.TRIANGLE_STRIP,0,4);var u=this.glImgData;return r.readPixels(0,0,r.drawingBufferWidth,r.drawingBufferHeight,r.RGBA,r.UNSIGNED_BYTE,u),this.glImgData}var d=n.getContext("2d");return d.drawImage(this._videoEle,0,0),0===n.width||0===n.height?null:((!this.glImgData||this.glImgData.length<n.width*n.height*4)&&(this.glImgData=new Uint8Array(n.width*n.height*4)),this.glImgData.set(d.getImageData(0,0,n.width,n.height).data),this.glImgData)},t.capture=function(){var e=a()(c.a.mark((function e(t){var n,i,r,o,a,s,l,u,d,h,A,p,f,g,m,v,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),gt.log("capture"),(n=this._videoEle).videoHeight,i=n.videoWidth,r=this.getVideoSizeInfo(),o=r.width,a=r.height,s=r.offsetX,l=r.offsetY,u=this.getFrame(),d=!1,h=!1,this.videoGl?h=!0:d=!0,A={imageData:null,imageWidth:o,imageHeight:a,rgba:d,bgra:h},this._isFill){for((!this.glCropImgData||this.glCropImgData.length<o*a*4)&&(this.glCropImgData=new Uint8Array(o*a*4)),p=this.glCropImgData,f=0,g=l+a,m=l;m<g;m++)v=4*(m*i+s),b=f*o*4,p.set(u.subarray(v,v+4*o),b),f++;A.imageData=p.buffer}else A.imageData=u.buffer;if(t){e.next=14;break}return e.next=13,He(A);case 13:return e.abrupt("return",e.sent);case 14:return e.abrupt("return",A);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.setImageDataBack=function(e){gt.log("setImageDataBack"),this._isFill?this.glCropImgData=new Uint8Array(e):this.glImgData=new Uint8Array(e)},t.getVideoSizeInfo=function(){var e,t=this._videoEle;if("none"==(null==t||null===(e=t.style)||void 0===e?void 0:e.display)){var n=t.videoHeight;return{width:t.videoWidth,height:n,offsetX:0,offsetY:0}}"playing"!==this.getStatus()&&x(K);var i=t.getBoundingClientRect(),r=i.width,o=i.height;0!==r&&0!==o||x(ne);var a,s,c=0,l=0,u=t.videoHeight,d=t.videoWidth;if(this._isFill){var h=Math.max(r/d,o/u),A=r/(d*h),p=o/(u*h);a=Math.floor(d*A),s=Math.floor(u*p),c=Math.floor((1-A)/2*d),l=Math.floor((1-p)/2*u)}else a=d,s=u;return{width:a,height:s,offsetX:c,offsetY:l}},t.setFillMode=function(e){this._isFill=e,this._videoEle&&(this._videoEle.style.objectFit=e?"cover":"contain")},t.setPlugOut=function(){this._isPlugOut=!0},t._checkPlugOut=function(){this._isPlugOut&&u.emit("video-error",z)},t.getResolutions=function(){var e=a()(c.a.mark((function e(t){var n,i,r,o,a,s,l,u,d,h,A,p,f,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),!(this._allResolutions.length>0)||t){e.next=3;break}return e.abrupt("return",this._allResolutions);case 3:if(this._cameraInfo){e.next=5;break}return e.abrupt("return",null);case 5:n=[],this._allResolutions=[],i=!1,r=!1,e.prev=9,a=St()(Qt);case 11:return e.next=13,a.next();case 13:if(!(i=!(s=e.sent).done)){e.next=32;break}return l=s.value,u=l.width,d=l.height,h=l.type,e.next=18,Gt(this._cameraInfo.deviceId,u,d,h,this._browserInfo,this._allCameras);case 18:if(A=e.sent,p=A&&A.height,f=A.height===d&&A.width===u||A.height===u&&A.width===d,p&&f){e.next=27;break}return e.next=24,Gt(this._cameraInfo.deviceId,u,d,"ideal",this._browserInfo,this._allCameras);case 24:return(g=e.sent)&&g.height&&!zt({width:g.width,height:g.height},n)&&(delete g.type,n.push(g)),e.abrupt("continue",29);case 27:delete A.type,n.push(A);case 29:i=!1,e.next=11;break;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(9),r=!0,o=e.t0;case 38:if(e.prev=38,e.prev=39,!i||null==a.return){e.next=43;break}return e.next=43,a.return();case 43:if(e.prev=43,!r){e.next=46;break}throw o;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return this._allResolutions=n,e.abrupt("return",n);case 50:case"end":return e.stop()}}),e,this,[[9,34,38,48],[39,,43,47]])})));return function(t){return e.apply(this,arguments)}}(),t.setResolution=function(){var e=a()(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.playing()){e.next=2;break}return e.abrupt("return",this.play(t,n,this._cameraManager));case 2:return this._curResolution={width:t,height:n},e.abrupt("return",this._curResolution);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.getCurrentResolution=function(){return this._curResolution},t.getCameraInfo=function(){return this._cameraInfo},t.destroy=function(){this.stop(),this._cameraInfo=null,this._allCameras=null,this._allResolutions=null,this._videoEle=null,this._browserInfo=null,this.videoGlCvs=null},t.stop=function(){this._videoEle&&this._videoEle.srcObject&&(this._videoEle.srcObject.getTracks().forEach((function(e){e.stop()})),this._videoEle.srcObject=null,this._videoTrack=null)},t.getDeviceId=function(e){if(e){var t=e.getVideoTracks();if(t.length)return this._videoTrack=t[0],this._videoTrack.getSettings().deviceId}return""},t.updateCameraInfo=function(e){var t={};if(e){var n=e.getVideoTracks();if(n.length){this._videoTrack=n[0];var i={deviceId:(t=this._videoTrack.getSettings()).deviceId,label:this._videoTrack.label};this._cameraInfo=i}}return t},t.getBestMediaStream=function(){var e=a()(c.a.mark((function e(t,n,i){var r,o,a,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.videoSettings=Ht(this._cameraInfo.deviceId,t,n,i,!0,this._browserInfo,this._allCameras,this._isUser),r=this.videoSettings,e.prev=2,e.next=5,Ot(r,!0,this._browserInfo,this._allCameras);case 5:if(o=e.sent,a=this.getDeviceId(o),!this._cameraManager||!r.bFmEnvironment||this._isUser){e.next=21;break}return e.next=10,this._cameraManager.getAllCamerasInfo();case 10:if(this._allCameras=e.sent,this.videoSettings=Ht(this._cameraInfo.deviceId,t,n,i,!0,this._browserInfo,this._allCameras,this._isUser),"boolean"==typeof(r=this.videoSettings).video&&(r.video={}),(s=r.video.deviceId)&&(s=s.exact||s.ideal||s),!(s&&a.length>0&&a!=s)){e.next=21;break}return o.getTracks().forEach((function(e){e.stop()})),e.next=20,Ot(r,!0,this._browserInfo,this._allCameras);case 20:o=e.sent;case 21:return l=this.updateCameraInfo(o),e.abrupt("return",{settings:l,stream:o});case 25:e.prev=25,e.t0=e.catch(2),"NotAllowedError"===e.t0.name||"Permission denied"===e.t0.message?x(W):x(Z);case 28:case"end":return e.stop()}}),e,this,[[2,25]])})));return function(t,n,i){return e.apply(this,arguments)}}(),t.play=function(){var e=a()(c.a.mark((function e(t,n,i){var r,o,a,s,l,d,h,A;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this._videoEle)||x(J),this._cameraManager=i,this._checkPlugOut(),o=this._curResolution,a=this._allResolutions,"number"==typeof t&&t>0&&"number"==typeof n&&n>0||(t=o?o.width:1280,n=o?o.height:720),s=Wt({width:t,height:n},a),this.stop(),e.next=10,this.getBestMediaStream(t,n,s);case 10:return l=e.sent,d=l.settings,h=l.stream,r.srcObject=h,e.next=16,new Promise((function(e){r.onloadedmetadata=function(t){e(t)}}));case 16:return e.prev=16,e.next=19,r.play();case 19:e.next=27;break;case 21:return e.prev=21,e.t0=e.catch(16),e.next=25,new Promise((function(e){setTimeout(e,1e3)}));case 25:return e.next=27,r.play();case 27:return A={width:r.videoWidth,height:r.videoHeight},d.width&&d.height&&(d.width===t&&d.height===n||d.width===n&&d.height===t)&&(A.width=t,A.height=n),this._curResolution=A,u.emit("onPlayed",r),e.abrupt("return",A);case 32:case"end":return e.stop()}}),e,this,[[16,21]])})));return function(t,n,i){return e.apply(this,arguments)}}(),t.pause=function(){this._videoEle&&this._videoEle.pause()},t.resume=function(){this._videoEle&&this.paused()&&this.playing()&&this._videoEle.play()},t.paused=function(){return!!this._videoEle&&this._videoEle.paused},t.playing=function(){if(this._isPlugOut)return!1;if(this._videoEle&&this._videoEle.srcObject)try{var e=this._videoEle.srcObject;if(e){var t=e.getVideoTracks();if(t&&0!==t.length)return!0}}catch(e){x(e)}return!1},t.getStatus=function(){return this.playing()?this.paused()?"paused":"playing":"stopped"},t.getVideoSetting=function(){return this.videoSettings},t.toggleCamera=function(e,t,n){return this._isUser=!this._isUser,this._cameraInfo.deviceId="",this.play(e,t,n)},e}(),Xt=n(10),Kt=(Et()(Xt.a,{insert:"head",singleton:!1}),Xt.a.locals,function(){function e(e){this._cameraPermission=!1,this._allCamerasInfo=[],this.selectedCamera=null,this.videoEl=null,this._trackCameraDeviceChanged(),this._initEl(e),u.on("onPlayed",(function(e){qt(e)}))}var t=e.prototype;return t.selectCamera=function(){var e=a()(c.a.mark((function e(t){var n,i,r,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._allCamerasInfo.length){e.next=3;break}return e.next=3,this.getAllCamerasInfo();case 3:if(n=this._allCamerasInfo,t||(t=new Zt(null,this.videoEl,n)),i=null,!v(t)){e.next=21;break}r={deviceId:"",label:""},o=0;case 9:if(!(o<n.length)){e.next=19;break}if(a=n[o],t!==a.deviceId){e.next=16;break}return r.deviceId=a.deviceId,r.label=a.label,i=new Zt(r,this.videoEl,n),e.abrupt("break",19);case 16:o++,e.next=9;break;case 19:e.next=22;break;case 21:t instanceof Zt&&(i=t);case 22:return this.selectedCamera&&this.selectedCamera.destroy(),this.selectedCamera=i,e.abrupt("return",i);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.closeCamera=function(){this.selectedCamera&&(this.selectedCamera.destroy(),this.selectedCamera=null)},t.getCurrentCamera=function(){return this.selectedCamera},t.destroy=function(){u.off("onCameraChanged")},t.getAllCamerasInfo=function(){var e=a()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ut(),e.next=3,Yt();case 3:return t=e.sent,this._allCamerasInfo=t,e.abrupt("return",this._allCamerasInfo);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t._trackCameraDeviceChanged=function(){var e=this;void 0!==navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=function(t){e._cameraChangedHandler(t)})},t._initEl=function(e){if(e)this.videoEl=e;else{var t=document.createElement("video");t.className="dcs-cameraVideo",t.playsInline=!0,t.muted=!0,this.videoEl=t}},t._cameraChangedHandler=function(e){},t._requestCamera=function(){var e=a()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ut(),0===this._allCamerasInfo.length&&u.emit("onThrowError",$),e.next=4,this._checkAllowCamera();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t._checkAllowCamera=function(){var e=a()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t.requestCamera=function(){var e=a()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.cameraExist=function(e,t){return!0},e}());function qt(e,t,n){if(e){var i,r,o=e.style.objectFit;t&&n?(i=t,r=n):(i=e.videoWidth,r=e.videoHeight);var a=e.getBoundingClientRect(),s=a.width,c=a.height,l={zoom:1,left:0,top:0};if("cover"===o){var u=Math.max(s/i,c/r);l.zoom=u}else{var d=Math.min(s/i,c/r),h=(s-i*d)/2,A=(c-r*d)/2;l.zoom=d,l.left=h,l.top=A}e.videoLayout=l}}var $t,en=function(){function e(e){this._showCanvas=null,this._containerEl=null,this._videoEl=null,this._obEl=null,this._srcVideoInfo=null,this._observer=null,this._videoEl=e,this._showCanvas=this.createCameraCanvas()}var t=e.prototype;return t.createCameraCanvas=function(){var e=document.createElement("canvas");return e.className="dcs-cameraCvs",e},t.getCameraDvs=function(){return this._showCanvas},t.resetVideoInfo=function(){if(f.navInfo.bMobile&&(f.navInfo.biPhone||f.navInfo.biPad)){var e=window.orientation;e=0==e||180==e?0:90,this._srcVideoInfo={videoWidth:this._videoEl.videoWidth,videoHeight:this._videoEl.videoHeight,orientation:e}}},t.bindView=function(e){var t;if(!(t=v(e)?document.getElementById(e):e))return!1;var n=this._showCanvas,i=this._videoEl,r=i.parentElement;null==r||r.remove();var o=document.createElement("div");o.className="dcs-cameraContainer",o.appendChild(i),o.appendChild(n),this._containerEl=o,t.appendChild(o),this.updateCanvasRect();var a=this;return this._obEl=new F(o,(function(e){var t,n;if(f.navInfo.bMobile&&(f.navInfo.biPhone||f.navInfo.biPad)&&a._videoEl.videoWidth>0&&a._videoEl.videoHeight>0){var i=window.orientation;i=0==i||180==i?0:90,a._srcVideoInfo?i==a._srcVideoInfo.orientation?(t=a._srcVideoInfo.videoWidth,n=a._srcVideoInfo.videoHeight):(n=a._srcVideoInfo.videoHeight,t=a._srcVideoInfo.videoWidth):(a._srcVideoInfo={videoWidth:a._videoEl.videoWidth,videoHeight:a._videoEl.videoHeight,orientation:i},t=a._srcVideoInfo.videoWidth,n=a._srcVideoInfo.videoHeight)}qt(a._videoEl,t,n),a.updateCanvasRect(),u.emit("uiResize",e)})),!0},t.updateCanvasRect=function(){this._showCanvas&&(this._showCanvas.width=this._showCanvas.getBoundingClientRect().width,this._showCanvas.height=this._showCanvas.getBoundingClientRect().height)},t.unbindView=function(){this._obEl&&(this._obEl.dispose(),this._obEl=null);var e=this._containerEl;return!!e&&(e.remove(),!0)},t.dispose=function(){var e;this.unbindView(),this._showCanvas.width=1,this._showCanvas.height=1,null===(e=this._showCanvas)||void 0===e||e.remove(),this._showCanvas=null,this._containerEl=null,this._videoEl=null,this._obEl=null},e}(),tn=n(15),nn=n.n(tn),rn=function(){function e(){this.path=[],this._currentPage=null}var t=e.prototype;return t.navigateTo=function(e){this.path.push(e),this.currentPage=e},t.redirectTo=function(e){this.closeAll(),this.navigateTo(e)},t.redirectToHome=function(){var e=this.path.length;this.navigateBack(e-1)},t.navigateBack=function(e){void 0===e&&(e=1);for(var t=this.path;e>0;)Pe(t.pop()),e--;return this.currentPage=t[t.length-1],this.currentPage},t.closeAll=function(){this.path.forEach((function(e){Pe(e)})),this.path=[],this.currentPage=null},t.hideAllPages=function(){this.path.forEach((function(e){var t;null===(t=e.element)||void 0===t||t.classList.add("dcs-display-none")}))},t.showAllPages=function(){this.path.forEach((function(e){var t;null===(t=e.element)||void 0===t||t.classList.remove("dcs-display-none")}))},t.showHomePage=function(e,t){var n,i=(n={load:oe(),toggleCamera:{icon:"dcs-font dcs-i-switch",onclick:function(e,t){var n=t.dcs;n.emit("blurPage"),n.showLoading("switch camera button click");var i=n.config.scannerViewer.resolution.defaultValue;n.toggleCamera(i.width,i.height).finally((function(){n.hideLoading("switch camera button click"),n.emit("focusPage")}))},className:"dcs-btn-toggleCamera",text:"Switch Camera"},capture:{icon:"dcs-font dcs-i-capture",className:"dcs-btn-captureBtn",onclick:function(e,t){t.dcs.captureLoop.startManualCapture(t)}},autoCapture:{icon:"dcs-font dcs-i-autoCapture",className:"dcs-btn-autoCapture",onmount:function(e,t){var n=t.dcs,i=t.page;n.captureLoop&&(n.captureLoop.setEnable(),n.once("onPlayed",(function(){n.captureLoop&&n.captureLoop.startLoop(t)})),n.once("video-closed",(function(){n.captureLoop&&n.captureLoop.stopCaptureLoop()})),"homePage"==i.pageName?(n.config.scannerViewer.autoScan&&(n.captureLoop.loadLoopTypeFromConfig(),n.captureLoop.clearCaptureTimer()),n.on("blurPage",(function(){n.captureLoop&&n.captureLoop.isEnable()&&(n.captureLoop.saveLoopTypeToConfig(),n.captureLoop.stopCaptureLoop(),n.captureLoop.setDisable())})),n.on("focusPage",(function(){n.captureLoop&&(n.captureLoop.setEnable(),n.config.scannerViewer.autoScan.enableAutoScan?n.captureLoop.setAutoScan():n.captureLoop.changeStyle())}))):n.captureLoop.loadLoopTypeFromConfig())},onSelected:function(e,t){e?(t.dcs.config.scannerViewer.autoDetect.enableAutoDetect=!0,t.dcs.config.scannerViewer.autoScan.enableAutoScan=!0):t.dcs.config.scannerViewer.autoScan.enableAutoScan=!1,t.dcs.captureLoop.loadLoopTypeFromConfig(),t.dcs.captureLoop.startLoop(t)}},multipleBtn:{onclick:fe,onmount:function(e){e.innerHTML='<img class="previewImg">\n         <div class="imgCount">0</div>\n         <div class="nextArr dcs-font dcs-i-back"></div>\n        ',gt.log(e)},className:"dcs-btn-multipleImg dcs-hidden",text:"Continuous"},continuous:{icon:"dcs-font dcs-i-continuous",onclick:ue,onmount:function(e,t){var n=t.page;t.dcs,n.options.continuous&&e.classList.add("dcs-selected")},className:"dcs-btn-continuousMode",text:"Continuous"}},{continuous:!1,resolution:{width:1280,height:720},file:{},deviceId:"",headerButtons:{changeResBtn:Ae(),autoDetect:{icon:"dcs-font dcs-i-autoDetect",onmount:function(e,t){var n=t.dcs,i=t.page;n.captureLoop&&(n.captureLoop.setEnable(),n.once("onPlayed",(function(){n.captureLoop&&n.captureLoop.startLoop(t)})),n.once("video-closed",(function(){n.captureLoop&&n.captureLoop.stopCaptureLoop()})),"homePage"==i.pageName?(n.config.scannerViewer.autoDetect&&(n.captureLoop.loadLoopTypeFromConfig(),n.captureLoop.clearCaptureTimer()),n.on("blurPage",(function(){n.captureLoop&&n.captureLoop.isEnable()&&(n.captureLoop.saveLoopTypeToConfig(),n.captureLoop.stopCaptureLoop(),n.captureLoop.setDisable())})),n.on("focusPage",(function(){n.captureLoop&&(n.captureLoop.setEnable(),n.config.scannerViewer.autoDetect.enableAutoDetect&&!n.config.scannerViewer.autoScan.enableAutoScan?n.captureLoop.setAutoDetect():n.captureLoop.changeStyle())}))):n.captureLoop.loadLoopTypeFromConfig())},onSelected:function(e,t){e?t.dcs.config.scannerViewer.autoDetect.enableAutoDetect=!0:(t.dcs.config.scannerViewer.autoDetect.enableAutoDetect=!1,t.dcs.config.scannerViewer.autoScan.enableAutoScan=!1),t.dcs.captureLoop.loadLoopTypeFromConfig(),t.dcs.captureLoop.startLoop(t)},className:"dcs-btn-detectCamera"},closeBtn:he()},footerButtons:n,fill:!1});w(e,i);var r=new _t(i,t);this.navigateTo(r);var o=document.querySelector(".dcs-btn-multipleImg");if(o)if(t.config.scannerViewer.continuousScan.visibility)o.style.top="-67px",o.style.right="18px",o.style.position="absolute";else{o.style.top="0",o.style.right="0",o.style.position="relative";var a=document.querySelector(".dcs-btn-continuousMode");a&&(a.className="",a.appendChild(o))}return r},t.showInsertPage=function(e,t){var n,i=(n={load:oe(),toggleCamera:{icon:"dcs-font dcs-i-switch",onclick:function(e,t){var n=t.dcs;n.emit("blurPage"),n.showLoading("switch camera button click");var i=n.config.scannerViewer.resolution.defaultValue;n.toggleCamera(i.width,i.height).finally((function(){n.hideLoading("switch camera button click"),n.emit("focusPage")}))},className:"dcs-btn-toggleCamera",text:"Switch Camera"},capture:{icon:"dcs-font dcs-i-capture",className:"dcs-btn-captureBtn",onclick:function(e,t){t.dcs.captureLoop.startManualCapture(t)}},autoCapture:{icon:"dcs-font dcs-i-autoCapture",className:"dcs-btn-autoCapture",onmount:function(e,t){var n=t.dcs,i=t.page;n.captureLoop&&(n.captureLoop.setEnable(),n.once("onPlayed",(function(){n.captureLoop&&n.captureLoop.startLoop(t)})),n.once("video-closed",(function(){n.captureLoop&&n.captureLoop.stopCaptureLoop()})),"homePage"==i.pageName?(n.config.scannerViewer.autoScan&&(n.captureLoop.loadLoopTypeFromConfig(),n.captureLoop.clearCaptureTimer()),n.on("blurPage",(function(){n.captureLoop&&n.captureLoop.isEnable()&&(n.captureLoop.saveLoopTypeToConfig(),n.captureLoop.stopCaptureLoop(),n.captureLoop.setDisable())})),n.on("focusPage",(function(){n.captureLoop&&(n.captureLoop.setEnable(),n.config.scannerViewer.autoScan.enableAutoScan?n.captureLoop.setAutoScan():n.captureLoop.changeStyle())}))):n.captureLoop.loadLoopTypeFromConfig())},onSelected:function(e,t){e?(t.dcs.config.scannerViewer.autoDetect.enableAutoDetect=!0,t.dcs.config.scannerViewer.autoScan.enableAutoScan=!0):t.dcs.config.scannerViewer.autoScan.enableAutoScan=!1,t.dcs.captureLoop.loadLoopTypeFromConfig(),t.dcs.captureLoop.startLoop(t)}}},{continuous:!1,resolution:{width:1280,height:720},file:{},deviceId:"",headerButtons:{changeResBtn:Ae(),autoDetect:{icon:"dcs-font dcs-i-autoDetect",onmount:function(e,t){var n=t.dcs,i=t.page;n.captureLoop&&(n.captureLoop.setEnable(),n.once("onPlayed",(function(){n.captureLoop&&n.captureLoop.startLoop(t)})),n.once("video-closed",(function(){n.captureLoop&&n.captureLoop.stopCaptureLoop()})),"homePage"==i.pageName?(n.config.scannerViewer.autoDetect&&(n.captureLoop.loadLoopTypeFromConfig(),n.captureLoop.clearCaptureTimer()),n.on("blurPage",(function(){n.captureLoop&&n.captureLoop.isEnable()&&(n.captureLoop.saveLoopTypeToConfig(),n.captureLoop.stopCaptureLoop(),n.captureLoop.setDisable())})),n.on("focusPage",(function(){n.captureLoop&&(n.captureLoop.setEnable(),n.config.scannerViewer.autoDetect.enableAutoDetect&&!n.config.scannerViewer.autoScan.enableAutoScan?n.captureLoop.setAutoDetect():n.captureLoop.changeStyle())}))):n.captureLoop.loadLoopTypeFromConfig())},onSelected:function(e,t){e?t.dcs.config.scannerViewer.autoDetect.enableAutoDetect=!0:(t.dcs.config.scannerViewer.autoDetect.enableAutoDetect=!1,t.dcs.config.scannerViewer.autoScan.enableAutoScan=!1),t.dcs.captureLoop.loadLoopTypeFromConfig(),t.dcs.captureLoop.startLoop(t)},className:"dcs-btn-detectCamera"},closeBtn:he()},footerButtons:n,fill:!1});w(e,i);var r=new Lt(i,t);return this.navigateTo(r),r},t.showEditPage=function(e,t){var n=function(e){var t;return{blob:null,footerButtons:{rotateLeft:{icon:"dcs-font dcs-i-rotateLeft",className:"dcs-btn-rotateLeft",onclick:function(e,t){t.page.rotateLeft()}},rotateRight:{icon:"dcs-font dcs-i-rotateRight",className:"dcs-btn-rotateRight",onclick:function(e,t){t.page.rotateRight()}},toggleFullArea:we(e),save:{icon:"dcs-font dcs-i-save",className:"dcs-btn-save",onclick:function(e,t){!function(e,t){me.apply(this,arguments)}(t.page,t.dcs)}}},headerButtons:{backBtn:{icon:"dcs-font dcs-i-back",className:"dcs-btn-backBtn",onclick:(t=a()(c.a.mark((function e(t,n){var i,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=n.dcs).navigateBack(),i.multipleView){e.next=18;break}if(i.showLoading("play camera"),"playing"!=(r=i.getStatus())){e.next=8;break}e.next=15;break;case 8:if("paused"!=r){e.next=12;break}i.hidden()||i.resume(),e.next=15;break;case 12:if(i.hidden()){e.next=15;break}return e.next=15,i.play();case 15:i.hidden()||i.emit("resetResolution"),i.hideLoading("play camera"),i.emit("focusPage");case 18:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}},file:{},continuous:!1}}(t);w(e,n),n.detectArea||(n.footerButtons.toggleFullArea=null);var i=new Bt(n,t);return this.navigateTo(i),i},nn()(e,[{key:"currentPage",get:function(){return this._currentPage},set:function(e){var t=this._currentPage;this._currentPage=e,t&&t instanceof _t?t._dcs&&t._dcs.emit("blurPage"):e&&e instanceof _t&&e._dcs&&e._dcs.isHome()&&e._dcs.emit("focusPage"),function(e){Re.apply(this,arguments)}(e),t&&!e&&t._dcs&&(t._dcs.off("blurPage"),t._dcs.off("focusPage"))}}]),e}(),on=function(){function e(){this.err=null,this._init()}var t=e.prototype;return t._init=function(){var e=this;u.on("error",(function(t){var n=new Error(t.message);n.code=t.code,e._throwErr(n)})),u.on("typeError",(function(t,n){var i=new Error("Argument of type '"+t+"' is not assignable to parameter of type '"+n+"'.");i.code=-4212,e._throwErr(i)})),u.on("valueError",(function(t,n){var i=new Error("The argument '"+t+"' is not valid for the parameter '"+n+"'");i.code=-4213,e._throwErr(i)}))},t._throwErr=function(e){throw this.err=e,e},e}();!function(e){e[e.None=0]="None",e[e.AutoScan=1]="AutoScan",e[e.AutoDetect=2]="AutoDetect"}($t||($t={}));var an=function(){function e(e){this.isLooping=!1,this._dcs=null,this._cameraCvs=null,this._enabled=!1,this._loopType=$t.None,this.loopTimer=null,this.lastConfirmTime=0,this.lastDetectTime=(new Date).getTime(),this._captureLoopSub=new l,this._oldLoopType=[],this._dcs=e}var t=e.prototype;return t.dispose=function(){this._loopType=$t.None,this.clearCaptureTimer(),this._dcs=null,this._captureLoopSub=null,this._cameraCvs=null},t.resetLastConfirmTime=function(){this.lastConfirmTime=0},t.setAutoScan=function(){this.innerSetNextLoopType($t.AutoScan)},t.setAutoDetect=function(){this.innerSetNextLoopType($t.AutoDetect)},t.innerSetNextLoopType=function(t){this._loopType==e.EnumLoopType_ManualScan?0==this._oldLoopType.length?this._oldLoopType.push(t):this._oldLoopType[0]=t:(this._loopType=t,this.changeStyle(),this.clearCaptureTimer(),this.startLoop({dcs:this._dcs,page:this._dcs.getCurrentPage()}))},t.saveLoopTypeToConfig=function(){this._loopType==$t.AutoScan?(this._dcs.config.scannerViewer.autoScan.enableAutoScan=!0,this._dcs.config.scannerViewer.autoDetect.enableAutoDetect=!0):this._loopType==$t.AutoDetect?(this._dcs.config.scannerViewer.autoScan.enableAutoScan=!1,this._dcs.config.scannerViewer.autoDetect.enableAutoDetect=!0):(this._dcs.config.scannerViewer.autoScan.enableAutoScan=!1,this._dcs.config.scannerViewer.autoDetect.enableAutoDetect=!1)},t.loadLoopTypeFromConfig=function(){this.isAutoButtonEnabled()&&this._dcs.config.scannerViewer.autoScan.enableAutoScan?(this._loopType=$t.AutoScan,this._dcs.config.scannerViewer.autoDetect.enableAutoDetect=!0):this.isAutoButtonEnabled()&&this._dcs.config.scannerViewer.autoDetect.enableAutoDetect?this._loopType=$t.AutoDetect:(this._loopType=$t.None,this._dcs.config.scannerViewer.autoDetect.enableAutoDetect=!1,this._dcs.config.scannerViewer.autoScan.enableAutoScan=!1),this.changeStyle()},t.getLoopType=function(){return this._loopType},t._setLoopType=function(e){this._loopType=e},t.setIsLooping=function(e){this.isLooping=e},t.getIsLooping=function(){return this.isLooping},t.setEnable=function(){this.isAutoButtonEnabled()&&(this._enabled=!0)},t.setDisable=function(){this._enabled=!1},t.isEnable=function(){return this._enabled},t.isAutoButtonDisabled=function(){return 1!=this._dcs.config.scannerViewer.enableBorderDetection},t.isAutoButtonEnabled=function(){return 1==this._dcs.config.scannerViewer.enableBorderDetection},t.startManualCapture=function(t){var n=this;gt.log("startManualCapture"),this._oldLoopType.push(this._loopType),this._captureLoopSub.once("onCapturedImage",function(){var e=a()(c.a.mark((function e(t,i,r){var o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={dcs:t,page:t.getCurrentPage()},e.prev=1,0==o.page.options.continuous&&n.loadLoopTypeFromConfig(),e.next=5,o.page.emitEx("onSaveCapture",!1,o,i,!0,r);case 5:e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),gt.log("manual capture error."),gt.log(e.t0),702==e.t0.code&&(t.hideLoading("startManualCapture 1"),x(e.t0));case 12:if(!t.captureLoop){e.next=28;break}if(!((a=t.captureLoop._oldLoopType).length<=0)){e.next=19;break}return gt.log("manual capture stack error."),t.captureLoop._loopType=$t.None,t.hideLoading("startManualCapture 2"),e.abrupt("return");case 19:if(t.captureLoop._loopType=a.pop(),t.captureLoop.resetLastConfirmTime(),!t.captureLoop.loopTypeIsManualScan()){e.next=25;break}return t.captureLoop.innerLoop(o),t.hideLoading("startManualCapture 3"),e.abrupt("return");case 25:t.hideLoading("startManualCapture 4"),t.captureLoop.innerLoop(o),t.captureLoop.changeStyle();case 28:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,i){return e.apply(this,arguments)}}()),this.lastConfirmTime=(new Date).getTime(),this.loopTypeIsManualScan()||(this._loopType=e.EnumLoopType_ManualScan,this._dcs.showLoading("startManualCapture start loop"),this.isLooping||(this.clearCaptureTimer(),this.innerLoop(t)))},t.startLoop=function(e){gt.log("startLoop"),this.isAutoButtonDisabled()&&(this._loopType=$t.None),this._loopType==$t.AutoScan||this._loopType==$t.AutoDetect?null==this.loopTimer&&(this.lastConfirmTime=0,this.isLooping||(this.clearCaptureTimer(),this.innerLoop(e))):(this.stopCaptureLoop(),this._dcs.hideLoading("startLoop")),this.changeStyle()},t.changeStyle=function(){var e,t,n=null===(e=this._dcs)||void 0===e||null===(t=e.getCurrentPage())||void 0===t?void 0:t.element;if(n){var i=n.querySelector(".dcs-btn-autoCapture"),r=n.querySelector(".dcs-btn-captureBtn"),o=n.querySelector(".dcs-btn-detectCamera");if(this.isAutoButtonDisabled())return i&&(i.classList.remove("dcs-selected"),i.classList.add("dcs-disable"),i.bSelected=!1),o&&r.classList.remove("dcs-capturing"),void(o&&(o.classList.remove("dcs-selected"),o.classList.add("dcs-disable"),o.bSelected=!1));this._loopType==$t.AutoScan?(i&&(i.classList.add("dcs-selected"),i.bSelected=!0),o&&r.classList.add("dcs-capturing"),o&&(o.classList.add("dcs-selected"),o.bSelected=!0)):this._loopType==$t.AutoDetect?(i&&(i.classList.remove("dcs-selected"),i.bSelected=!1),o&&r.classList.remove("dcs-capturing"),o&&(o.classList.add("dcs-selected"),o.bSelected=!0)):(i&&(i.classList.remove("dcs-selected"),i.classList.remove("dcs-disable"),i.bSelected=!1),o&&r.classList.remove("dcs-capturing"),o&&(o.classList.remove("dcs-selected"),o.classList.remove("dcs-disable"),o.bSelected=!1))}},t.getDetectRemainTime=function(){var e=(new Date).getTime(),t=I(this._dcs,"config.scannerViewer.autoDetect").fpsLimit,n=void 0===t?3:t,i=e-this.lastDetectTime;return Math.max(0,1e3/n-i)},t.loopTypeIsNone=function(){return this._loopType==$t.None},t.loopTypeIsManualScan=function(){return this._loopType==e.EnumLoopType_ManualScan},t.innerLoop=function(e){var t=this,n=e.dcs,i=n.areaDetectFn,r=this.getDetectRemainTime();if(i)return this.loopTypeIsNone()?this.exitAutoCaptureFromInner(0):void((this._loopType!=$t.AutoScan&&this._loopType!=$t.AutoDetect||this.isEnable())&&(clearTimeout(this.loopTimer),this.loopTimer=setTimeout(a()(c.a.mark((function i(){var r;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.loopTypeIsNone()){i.next=2;break}return i.abrupt("return",t.exitAutoCaptureFromInner(1));case 2:if(!t.isLooping){i.next=4;break}return i.abrupt("return");case 4:return t.isLooping=!0,i.next=7,t.innerLoopTimeout(e);case 7:r=i.sent,t.isLooping=!1,r&&(t._loopType==$t.AutoScan||t._loopType==$t.AutoDetect)&&t.isEnable()?setTimeout((function(){n.captureLoop&&(n.captureLoop._loopType!=$t.AutoScan&&n.captureLoop._loopType!=$t.AutoDetect||!n.captureLoop.isEnable()||n.captureLoop.innerLoop(e))}),10):t.clearCaptureTimer();case 10:case"end":return i.stop()}}),i)}))),r)))},t.innerLoopTimeout=function(){var e=a()(c.a.mark((function e(t){var n,i,r,o,a,s,l,u,d,h,A,p,f,g,m,v,b,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dcs,this.lastDetectTime=(new Date).getTime(),i=n.config.scannerViewer,r=i.polygonStyle,o=void 0===r?{stroke:"#fe8e14",strokeWidth:"2px",dashed:"solid"}:r,a=i.autoDetect,s=void 0===a?{}:a,l=!0,e.prev=4,"playing"==n.getStatus()){e.next=7;break}return e.abrupt("return",!0);case 7:return e.next=9,n.capture(l);case 9:if(u=e.sent,!this.loopTypeIsNone()){e.next=14;break}return e.abrupt("return",this.exitAutoCaptureFromInner(2));case 14:if(!this.loopTypeIsManualScan()){e.next=17;break}return this._captureLoopSub.emit("onCapturedImage",n,u),e.abrupt("return",!1);case 17:return e.prev=17,e.next=20,We(u,!1,n);case 20:if(d=e.sent,this._loopType!=$t.AutoScan){e.next=67;break}if(h=d.cornerPoints,!this.loopTypeIsNone()){e.next=27;break}return gt.log("loop setImageDataBack"),n.setImageDataBack(u.imageData),e.abrupt("return",this.exitAutoCaptureFromInner(3));case 27:if(!d.detectedArea){e.next=56;break}if(this.drawArea(h,o,n.getVideoElement()),!this.loopTypeIsNone()){e.next=35;break}return gt.log("loop setImageDataBack"),n.setImageDataBack(u.imageData),e.abrupt("return",this.exitAutoCaptureFromInner(5));case 35:if(!this.loopTypeIsManualScan()){e.next=38;break}return this._captureLoopSub.emit("onCapturedImage",n,u,d),e.abrupt("return",!1);case 38:if(A=s.autoCaptureDelay,p=void 0===A?2e3:A,f=(new Date).getTime(),!(this._loopType==$t.AutoScan&&this.lastConfirmTime>0&&f-this.lastConfirmTime>p)){e.next=53;break}return n.showLoading("auto capture"),e.prev=43,e.next=46,t.page.emitEx("onSaveCapture",!0,t,u,!0,d);case 46:return e.prev=46,n.hideLoading("auto capture"),e.finish(46);case 49:return n.captureLoop.resetLastConfirmTime(),e.abrupt("return",!0);case 53:0==this.lastConfirmTime&&(this.lastConfirmTime=f);case 54:e.next=60;break;case 56:gt.log("[capture loop] detect result:"),gt.log(d),this.lastConfirmTime=0,this.clearCanvas();case 60:if(!this.loopTypeIsManualScan()){e.next=63;break}return this._captureLoopSub.emit("onCapturedImage",n,u,d),e.abrupt("return",!1);case 63:gt.log("loop setImageDataBack"),n.setImageDataBack(u.imageData),e.next=83;break;case 67:if(this._loopType!=$t.AutoDetect){e.next=80;break}if(g=d.cornerPoints,gt.log("loop setImageDataBack"),n.setImageDataBack(u.imageData),!this.loopTypeIsNone()){e.next=73;break}return e.abrupt("return",this.exitAutoCaptureFromInner(3));case 73:if(m=u.imageWidth,v=u.imageHeight,b=y(g,m,v),!this.loopTypeIsNone()){e.next=77;break}return e.abrupt("return",this.exitAutoCaptureFromInner(4));case 77:b?this.clearCanvas():(w=n.getVideoElement(),n.captureLoop.drawArea(g,o,w)),e.next=83;break;case 80:if(!this.loopTypeIsManualScan()){e.next=83;break}return this._captureLoopSub.emit("onCapturedImage",n,u,d),e.abrupt("return",!1);case 83:e.next=88;break;case 85:e.prev=85,e.t0=e.catch(17),gt.log(e.t0);case 88:e.next=93;break;case 90:e.prev=90,e.t1=e.catch(4),gt.log(e.t1);case 93:return e.abrupt("return",!0);case 95:case"end":return e.stop()}}),e,this,[[4,90],[17,85],[43,,46,49]])})));return function(t){return e.apply(this,arguments)}}(),t.exitAutoCaptureFromInner=function(e){return this.clearCaptureTimer(),this._dcs.hideLoading("innerLoop exitAutoCaptureFromInner"),gt.log("auto capture loop: loopType is None "+e),!1},t.clearCaptureTimer=function(){clearTimeout(this.loopTimer),this.loopTimer=null,this.lastConfirmTime=0},t.stopCaptureLoop=function(){this._loopType=$t.None,this.clearCaptureTimer(),this.clearCanvas()},t.getCameraCvs=function(){return this._cameraCvs||(this._cameraCvs=this._dcs.getCameraView().getCameraDvs()),this._cameraCvs},t.clearCanvas=function(){var e=this.getCameraCvs();e&&e.getContext("2d").clearRect(0,0,e.width,e.height)},t.drawArea=function(e,t,n){var i=this.getCameraCvs(),r=i.getContext("2d");r.save(),r.clearRect(0,0,i.width,i.height);var o=n.videoLayout,a=o.zoom,s=o.left,c=o.top;r.translate(s,c),r.scale(a,a),r.beginPath(),r.moveTo(e[0],e[1]);for(var l=2;l<e.length;l+=2){var u=e[l],d=e[l+1];r.lineTo(u,d)}r.closePath();var h=parseInt(t.strokeWidth,10)/a;r.strokeStyle=t.stroke,r.lineCap="round",r.lineWidth=h,"dashed"===t.dash&&r.setLineDash([Math.max(2,h),Math.max(4,2*h)]),r.stroke(),r.restore()},e}();an.EnumLoopType_ManualScan=3,an._defaultConfig={autoScan:{enableAutoScan:!1},autoDetect:{enableAutoDetect:!1},enableBorderDetection:!0};var sn=new Map,cn=new Map,ln=new Map,un=function(){function e(){this._cameraMng=null,this._cameraView=null,this._errorMng=null,this._uiRouters=null,this.captureLoop=null,this.areaDetectFn=null,this.perspectiveFn=null,this.licenseFn=null,this.multipleHandleFn=null,this.multipleCloseHandleFn=null,this.loadFn=null,this.filterHandleList=[],this.imageDataToBlobHandleFn=null,this.file={},this._runPlaying=!1,this._loadingConfig={element:Pt,background:"rgba(0, 0, 0, 0.2)",container:null},this._loadingNumber=0,this.multipleView=!1,this.config={scannerViewer:{maxDocuments:20,maxImagesInBuffer:20,fullScreen:!0,enableBorderDetection:!0,polygonStyle:{stroke:"#fe8e14",strokeWidth:"2px",dash:"solid"},resolution:{visibility:!0,valueList:[{label:"720P",value:{width:1280,height:720}},{label:"1080P",value:{width:1920,height:1080}},{label:"2K",value:{width:2560,height:1440}},{label:"4K",value:{width:3840,height:2160}}],defaultValue:{width:1280,height:720}},autoDetect:{visibility:!0,acceptedPolygonConfidence:0,acceptedBlurryScore:0},autoScan:{visibility:!0},continuousScan:{visibility:!0,enableContinuousScan:!0},switchCamera:{visibility:!0},loadLocalFile:{visibility:!0}},filterViewer:{visibility:!0,insert:{visibility:!0,position:"before"},delete:{visibility:!0},rotateLeft:{visibility:!0},filter:{visibility:!0,valueList:[{label:"Original",value:"original",option:{level:1}},{label:"B&W",value:"blackAndWhite",option:{level:1}},{label:"Grayscale",value:"grayscale",option:{level:1}},{label:"Clean",value:"clean",option:{level:1}},{label:"Brightening",value:"brightening",option:{level:1}},{label:"Save Toner",value:"saveToner",option:{level:1}}],defaultValue:"original"}},cropViewer:{visibility:!0,polygonStyle:{stroke:"#fe8e14",strokeWidth:"2px",dash:"solid"},rotateLeft:{visibility:!0},rotateRight:{visibility:!0},autoDetectBorder:{visibility:!0},apply:{visibility:!0}}},this._container=null,this._cameraMng=new Kt,this._cameraView=new en(this._cameraMng.videoEl),this._uiRouters=new rn,this._errorMng=new on,this.captureLoop=new an(this),document.addEventListener("click",dn),window.addEventListener("focus",An),window.addEventListener("blur",hn)}var t=e.prototype;return t.bindView=function(e){var t;return void 0===e&&(e=this._container),(t=v(e)?document.getElementById(e):e)?(this._cameraView||(this._cameraView=new en(this._cameraMng.videoEl)),this.captureLoop||(this.captureLoop=new an(this)),this._cameraView.bindView(t),this._container=t,!0):(u.emit("error"),!1)},t.unbindView=function(){var e,t;return this._container=null,null===(e=this._cameraView)||void 0===e||e.dispose(),this._cameraView=null,null===(t=this.captureLoop)||void 0===t||t.dispose(),this.captureLoop=null,!0},t.getVideoElement=function(){return this._cameraMng.videoEl},t.getCameraView=function(){return this._cameraView},t.play=function(){var e=a()(c.a.mark((function e(t,n,i,r,o){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=this.config.scannerViewer.fullScreen),void 0===o&&(o=!1),this._checkLicense(),o||!this._runPlaying){e.next=5;break}return e.abrupt("return",Promise.reject(q));case 5:if(t&&(t instanceof HTMLElement||E(typeof t,"HTMLElement"),this.bindView(t)),this._container){e.next=8;break}return e.abrupt("return",Promise.reject(J));case 8:if(void 0===n||b(n)||E(typeof n,"number"),void 0===i||b(i)||E(typeof i,"number"),this._runPlaying=!0,a=this._cameraMng.getCurrentCamera()){e.next=16;break}return e.next=15,this._cameraMng.selectCamera();case 15:a=e.sent;case 16:return a.setFillMode(r),e.prev=17,e.next=20,a.play(n,i,this._cameraMng);case 20:s=e.sent,e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(17),this._runPlaying=!1,e.abrupt("return",Promise.reject(e.t0));case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this,[[17,23]])})));return function(t,n,i,r,o){return e.apply(this,arguments)}}(),t.pause=function(){var e=this._cameraMng.getCurrentCamera();e&&e.pause()},t.stop=function(){var e=this._cameraMng.getCurrentCamera();if(e)return e.stop(),void(this._runPlaying=!1)},t.resume=function(){var e=this._cameraMng.getCurrentCamera();e&&e.resume()},t.getStatus=function(){var e=this._cameraMng.getCurrentCamera();return e?e.getStatus():""},t.capture=function(e){var t=this._cameraMng.getCurrentCamera();return t?t.capture(e):Promise.reject(O)},t.setImageDataBack=function(e){var t=this._cameraMng.getCurrentCamera();return t?t.setImageDataBack(e):(x(O),null)},t.getSourceList=function(){return this._checkLicense(),this._cameraMng.getAllCamerasInfo()},t.selectSource=function(){var e=a()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkLicense(),e.next=3,this._cameraMng.selectCamera(t);case 3:if(n=e.sent,this._runPlaying=!1,n){e.next=7;break}return e.abrupt("return",Promise.reject(X));case 7:return e.abrupt("return",null==n?void 0:n.getCameraInfo());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.closeSource=function(){var e=a()(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._runPlaying=!1,!(t=this._cameraMng.getCurrentCamera())){e.next=6;break}return n=t.getCameraInfo(),this._cameraMng.closeCamera(),e.abrupt("return",n);case 6:return e.abrupt("return",Promise.reject(O));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getCurrentSource=function(){var e=a()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._cameraMng.getCurrentCamera())){e.next=3;break}return e.abrupt("return",t.getCameraInfo());case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getCurrentResolution=function(){var e=a()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._cameraMng.getCurrentCamera())){e.next=3;break}return e.abrupt("return",t.getCurrentResolution());case 3:return e.abrupt("return",Promise.reject(O));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getResolution=function(){var e=a()(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._cameraMng.getCurrentCamera())){e.next=3;break}return e.abrupt("return",t.getResolutions());case 3:return e.abrupt("return",Promise.reject(O));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.setResolution=function(){var e=a()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._cameraMng.getCurrentCamera())){e.next=5;break}return g(t),t.width<=0||t.height,e.abrupt("return",n.setResolution(t.width,t.height));case 5:return e.abrupt("return",Promise.reject(O));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getVideoSetting=function(){var e=this._cameraMng.getCurrentCamera();return e?e.getVideoSetting():(x(O),null)},t.toggleCamera=function(){var e=a()(c.a.mark((function e(t,n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=this._cameraMng.getCurrentCamera())){e.next=3;break}return e.abrupt("return",i.toggleCamera(t,n,this._cameraMng));case 3:return e.abrupt("return",Promise.reject(O));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.show=function(){return!!this._container&&this.bindView()},t.hidden=function(){return!this._container},t.hide=function(){this.unbindView()},t.bindAreaDetectFunction=function(e){return!!m(e)&&(this.areaDetectFn=e,!0)},t.bindPerspectiveFunction=function(e){return this.perspectiveFn=e,!0},t.bindLicenseCallback=function(e){return this.licenseFn=e,!0},t.bindMultipleHandle=function(e){return this.multipleHandleFn=e,!0},t.bindMultipleCloseHandle=function(e){return this.multipleCloseHandleFn=e,!0},t.bindImageDataToBlobHandle=function(e){return this.imageDataToBlobHandleFn=e,!0},t.bindLoadHandle=function(e){return this.loadFn=e,!0},t.bindFilterHandleList=function(e){return this.filterHandleList=e,!0},t.showEditPage=function(){var e=a()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t={}),this._checkLicense(),e.abrupt("return",this._uiRouters.showEditPage(t,this));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.showHomePage=function(){var e=a()(c.a.mark((function e(t){var n,i,r,o,a,s,l,u,d,h,A,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),this._checkLicense(),n=this._uiRouters.showHomePage(t,this),i=n.element,r=i.children[1],this.showLoading("showHomePage"),e.prev=6,o=this.config.scannerViewer.resolution,a=o.valueList,(s=o.defaultValue)||a&&a.length>0&&(s=a[a.length-1].value),!this._runPlaying){e.next=13;break}if(!this._cameraMng.getCurrentCamera()){e.next=13;break}return e.next=13,this.closeSource();case 13:if(l=n.options,u=l.fill,!(d=l.deviceId)){e.next=17;break}return e.next=17,this.selectSource(d);case 17:return A=(h={width:void 0,height:void 0}).width,p=h.height,s&&(A=s.width?s.width:void 0,p=s.height?s.height:void 0),e.next=21,this.play(r,A,p,u);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(6),this.navigateBack(),x(e.t0);case 27:return e.prev=27,this.hideLoading("showHomePage"),e.finish(27);case 30:return e.abrupt("return",n);case 31:case"end":return e.stop()}}),e,this,[[6,23,27,30]])})));return function(t){return e.apply(this,arguments)}}(),t.showInsertPage=function(){var e=a()(c.a.mark((function e(t){var n,i,r,o,a,s,l,u,d,h,A,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t={}),this._checkLicense(),n=this._uiRouters.showInsertPage(t,this),i=n.element,r=i.children[1],this.showLoading("showInsertPage"),e.prev=6,o=this.config.scannerViewer.resolution,a=o.valueList,(s=o.defaultValue)||a&&a.length>0&&(s=a[a.length-1].value),l=n.options,u=l.fill,!(d=l.deviceId)){e.next=13;break}return e.next=13,this.selectSource(d);case 13:return A=(h={width:void 0,height:void 0}).width,p=h.height,s&&(A=s.width?s.width:void 0,p=s.height?s.height:void 0),e.next=17,this.play(r,A,p,u,!0);case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),this.navigateBack(),x(e.t0);case 23:return e.prev=23,this.hideLoading("showInsertPage"),e.finish(23);case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}}),e,this,[[6,19,23,26]])})));return function(t){return e.apply(this,arguments)}}(),t.showFilterPage=function(e){this._checkLicense();var t=this.config.filterViewer,n=void 0===t?{}:t;n.visibility||(n.insert.visibility=!1,n.remove.visibility=!1,n.rotateLeft.visibility=!1,n.filter.visibility=!1);var i=n.rotateLeft,o=n.filter;return e.footerButtons={rotateRight:null,rotateLeft:et(i),filter:r()({},xe(this),et(o)),save:{order:1},empty:{}},e.isFilterPage=!0,this._uiRouters.showEditPage(e,this)},t.navigateBack=function(e){void 0===e&&(e=1);var t=this._uiRouters.navigateBack(e);if((!t||t instanceof _t)&&this._cameraMng.getCurrentCamera()&&this.closeSource(),t instanceof _t){var n=t.element.children[1];this.bindView(n),t._dcs.isHome()&&t._dcs.emit("focusPage")}t||this.unbindView()},t.redirectToHome=function(){this._uiRouters.redirectToHome()},t.isHome=function(){return 0==this.multipleView&&1==this._uiRouters.path.length},t.closeAll=function(){var e;this._uiRouters.closeAll(),this.file={},null===(e=this._container)||void 0===e||e.classList.remove("dcs-relative"),this._cameraMng.getCurrentCamera()&&this.closeSource()},t.hideAllPages=function(){this._uiRouters.hideAllPages()},t.showAllPages=function(){var e=a()(c.a.mark((function e(){var t,n,i,r,o,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.querySelector(".dcs-btn-multipleImg"))&&(n=t.querySelector(".previewImg"))&&(i=this.getCurrentPage(),r=i.options,o=r.file.blobList,0==(a=void 0===o?[]:o).length?t.classList.add("dcs-hidden"):(s=a[a.length-1],n.src==L&&s.preview&&(n.src=mt.createURL(s.preview)))),this._uiRouters.showAllPages();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t._checkLicense=function(){return!this.licenseFn||(0!==this.licenseFn().errorCode&&x(ee),!0)},t.createBlobItem=function(e){return new ke(e)},t.showLoading=function(e){this._loadingNumber++,e&&gt.log(["show loading: ",e,", num: ",this._loadingNumber].join(""));var t=this._loadingConfig,n=t.element,i=t.background,r=this._loadingConfig.container;if(!r){var o=document.createElement("div");o.style.background=i,this._loadingConfig.container=o,r=o}var a,s=this.config.element;r.innerHTML="",r.appendChild(n),r.className="dcs-loadingContainer",(a=v(s)?document.getElementById(s):s)?a.appendChild(r):(document.body.appendChild(r),r.classList.add("dcs-fixed-full"))},t.hideLoading=function(e){if(this._loadingNumber--,e&&gt.log(["hide loading: ",e,", num: ",this._loadingNumber].join("")),this._loadingNumber<1){var t=this._loadingConfig.container;null==t||t.remove(),this._loadingNumber=0}},t.getDetectArea=function(e){return We(e,!0,this)},t.filterHandler=function(){var e=a()(c.a.mark((function e(t,n){var i,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=I(this.config,"filterViewer.filter"),r=i.valueList,o=this.filterHandleList,e.abrupt("return",Xe(this,t,o,r,n));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.filterHandlerByIImageData=function(){var e=a()(c.a.mark((function e(t,n,i){var r,o,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I(this.config,"filterViewer.filter"),o=r.valueList,a=this.filterHandleList,e.abrupt("return",qe(t,n,a,o,i));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),t.packageBlobItemFromIImageData=function(e,t,n,i){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),Ue(e,this,t,n,i)},t.on=function(e,t){u.on(e,t)},t.once=function(e,t){u.once(e,t)},t.off=function(e,t){u.off(e,t)},t.emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];u.emit.apply(u,[e].concat(n))},t.getCurrentPage=function(){return this._uiRouters.currentPage},t.dispose=function(){var e,t,n,i;this.config&&(this.config.element=null),document.removeEventListener("click",dn),window.removeEventListener("focus",An),window.removeEventListener("blur",hn),sn.clear(),cn.clear(),this._container=null,null===(e=this._cameraView)||void 0===e||e.dispose(),this._cameraView=null,null===(t=this._cameraMng)||void 0===t||t.destroy(),this._cameraMng=null,null===(n=this._uiRouters)||void 0===n||n.closeAll(),this._uiRouters=null,this._errorMng=null,null===(i=this.captureLoop)||void 0===i||i.dispose(),this.captureLoop=null},t.addGlobalClickEvent=function(e,t){if(m(t)){var n=this;sn.set(e,(function(e){t(e,n)&&n.removeGlobalClickEvent(e)}))}},t.removeGlobalClickEvent=function(e){sn.delete(e)},t.addGlobalBlurEvent=function(e,t){if(m(t)){var n=this;cn.set(e,(function(e){t(e,n)&&n.removeGlobalBlurEvent(e)}))}},t.removeGlobalBlurEvent=function(e){cn.delete(e)},t.addGlobalFocusEvent=function(e,t){if(m(t)){var n=this;ln.set(e,(function(e){t(e,n)&&n.removeGlobalBlurEvent(e)}))}},t.removeGlobalFocusEvent=function(e){ln.delete(e)},e}();function dn(e){sn.forEach((function(e,t){m(e)&&e(t)}))}function hn(e){cn.forEach((function(e,t){m(e)&&e(t)}))}function An(e){ln.forEach((function(e,t){m(e)&&e(t)}))}var pn=n(11);Et()(pn.a,{insert:"head",singleton:!1}),pn.a.locals,window.Dynamsoft||(window.Dynamsoft={}),window.Dynamsoft.CameraViewer=un}]); 
}); 
Dynamsoft.AddonReady(function(c,b){if(!c.product.bHTML5Edition||Dynamsoft.navInfoSync.bIE){return}var a=function(e){var g=c.html5.Funs,d;var f=function(){this._stwain=e;this._viewer=null};f.prototype._getCameraViewer=function(){if(this._viewer==null){c.log("camera addon: bind viewer.");this._viewer=new Dynamsoft.CameraViewer();this._stwain._ImgManager.getWebViewer().bindCamera()}return this._viewer};f.prototype._checkLic=function(){var h=true;if(!c.License.checkProductKey(this._stwain,{Webcam:true},true)){c.log("camera addon: check camera license failed.");h=false}if(h&&!c.License.checkProductKey(this._stwain,{Webcam:true,Wasm:true},true)){c.log("camera addon: check camera wasm license failed.");h=false}if(h){return false}else{return{code:this._stwain._errorCode,message:this._stwain._errorString}}};f.prototype.getSourceList=function(){var h=this._checkLic();if(h){return c.Promise.reject(h)}return this._getCameraViewer().getSourceList()};f.prototype.selectSource=function(h){var i=this._checkLic();if(i){return c.Promise.reject(i)}this._getCameraViewer().hide();return this._getCameraViewer().selectSource(h)};f.prototype.closeSource=function(){var i=this._checkLic();if(i){return c.Promise.reject(i)}this._getCameraViewer().hide();var h=this._getCameraViewer().closeSource();this._stwain._ImgManager.getWebViewer().SetWidth(this._stwain._ImgManager.getWebViewer().GetWidth());return h};f.prototype.play=function(j,m,q){var l=this._checkLic(),h,p;if(l){return c.Promise.reject(l)}if(this._stwain._ImgManager.getWebViewer()._imageEditorInner&&this._stwain._ImgManager.getWebViewer()._imageEditorInner.bShowImageEditForFullScreen){c.Errors.ImageEditorOpenCannotPlayVideo(this._stwain);return c.Promise.reject({code:this._stwain._errorCode,message:this._stwain._errorString})}var n=j;if(!n){if(this._stwain._ImgManager.getWebViewer().myViewer.bOnlyShowThumbnailsView||!this._stwain._ImgManager.getWebViewer().myViewer.showMain){var o=c.one(["#showImageArea",this._stwain._ImgManager.getWebViewer().GetIdPostfix()].join(""));if(o&&o.length>0){if(o[0].className.indexOf("DVS_disabled")<0){n=o[0]}}}else{var i=c.one(["#container",this._stwain._ImgManager.getWebViewer().GetIdPostfix()].join(""));if(i&&i.length>0){if(i[0].className.indexOf("DVS_disabled")<0){n=i[0]}}}}if(!n){var k=this._getCameraViewer();if(k){k.hide()}this._stwain._ImgManager.getWebViewer().render()}else{if(typeof m=="object"){h=m.width;p=m.height}if(n&&n.nodeName=="DIV"){}else{n=document.getElementById(n)}if(!n.offsetHeight&&!n.scrollHeight&&!n.clientHeight){n.style.height="200px"}if(!n.offsetWidth&&!n.scrollWidth&&!n.clientWidth){n.style.width="200px"}this._getCameraViewer().show()}c.log("camera addon: play.");return this._getCameraViewer().play(n,h,p,q)};f.prototype.pause=function(){c.log("camera addon: pause.");return this._getCameraViewer().pause()};f.prototype.resume=function(){c.log("camera addon: resume.");return this._getCameraViewer().resume()};f.prototype.getStatus=function(){c.log("camera addon: get status.");return this._getCameraViewer().getStatus()};f.prototype.capture=function(){var j=this._checkLic(),i=this._stwain,h=i.GetCurrentFileName();if(j){return c.Promise.reject(j)}if(h==""){h=i._ImgManager.getWebViewer().GetDefaultFileName()}c.log("camera addon: start capture.");return this._getCameraViewer().capture().then(function(k){c.log("camera addon: captured.");return new c.Promise(function(p,o){var l=k.imageData||k.blob,m=-1,n=Dynamsoft.DWT.EnumDWT_ImageType;if(i._bLocalService){if(c.isString(l.type)){if(l.type=="application/pdf"){m=n.IT_PDF}else{if(l.type=="image/png"){m=n.IT_PNG}else{if(l.type=="image/jpeg"||l.type=="image/jpg"){m=n.IT_JPG}else{if(l.type=="image/bmp"){m=n.IT_BMP}else{if(l.type=="image/tiff"||l.type=="image/tif"){m=n.IT_TIF}else{if(l.type=="image/jp2"){m=n.IT_J2K}}}}}}}i.__captureImage(l,m,function(){c.log("camera addon: loaded image from capture.");p(l)},function(r,q){c.log("camera addon: failed to load image from capture.");o({code:r,message:q})})}else{i._innerSendToMobile("LoadImageFromBinary",[l,true,null,h],0,function(){c.log("camera addon: loaded image from capture.");p(l)},function(r,q){c.log("camera addon: failed to load image from capture.");o({code:r,message:q})})}})})};f.prototype.stop=function(){this._getCameraViewer().hide();c.log("camera addon: stop.");var h=this._getCameraViewer().stop();this._stwain._ImgManager.getWebViewer().SetWidth(this._stwain._ImgManager.getWebViewer().GetWidth());this._stwain._ImgManager.getWebViewer().render();return h};f.prototype.show=function(){c.log("camera addon: show.");return this._getCameraViewer().show()};f.prototype.hide=function(){c.log("camera addon: hide.");return this._getCameraViewer().hide()};f.prototype.getCurrentResolution=function(){c.log("camera addon: get current resolution.");return this._getCameraViewer().getCurrentResolution()};f.prototype.getCurrentSource=function(){c.log("camera addon: get current source.");return this._getCameraViewer().getCurrentSource()};f.prototype.getResolution=function(){var h=this._checkLic();if(h){return c.Promise.reject(h)}c.log("camera addon: get resolution.");return this._getCameraViewer().getResolution()};f.prototype.setResolution=function(h){var i=this._checkLic();if(i){return c.Promise.reject(i)}c.log("camera addon: set resolution.");return this._getCameraViewer().setResolution(h)};f.prototype.showVideo=function(j,h,l,i){var k=this._checkLic();if(k){return c.Promise.reject(k)}this._getCameraViewer();c.log("camera addon: show video.");return this._stwain._ImgManager.getWebViewer().showVideo(j,h,l,i)};f.prototype.scanDocument=function(h){var i=this._checkLic();if(i){return c.Promise.reject(i)}this._getCameraViewer();c.log("camera addon: scan document.");return this._stwain._ImgManager.getWebViewer().showVideoEx(h)};f.prototype.closeVideo=function(){var h=this._checkLic();if(h){return c.Promise.reject(h)}c.log("camera addon: close video.");return this._stwain._ImgManager.getWebViewer().closeVideo()};f.prototype.on=function(h,i){var j=this;if(h!="video-closed"&&h!="video-error"){c.Errors.EventNotExist(this._stwain);return}if(!c.isFunction(i)){c.Errors.CallbackNotAFunction(j._stwain);return}c.log("camera addon: add event "+h);this._stwain._ImgManager.getWebViewer().camera_on(h,i)};f.prototype.off=function(h,i){if(h!="video-closed"||h!="video-error"){c.Errors.EventNotExist(this._stwain);return}if(c.isUndefined(i)){this._stwain._ImgManager.getWebViewer().off(h)}else{if(!c.isFunction(i)){c.Errors.CallbackNotAFunction(this._stwain);return}c.log("camera addon: remove event "+h);this._stwain._ImgManager.getWebViewer().off(h,i)}};e.__addon=e.__addon||{};e.__addon.Camera=new f()};if(c.DynamicLoadAddonFuns){c.DynamicLoadAddonFuns.push(a)}});